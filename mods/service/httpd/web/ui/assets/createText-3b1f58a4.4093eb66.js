import{l as ln,ao as sn,aq as cn}from"./index.47c93488.js";var ct=Object.prototype.hasOwnProperty;function pt(e,n,t){for(t of e.keys())if(De(t,n))return t}function De(e,n){var t,r,u;if(e===n)return!0;if(e&&n&&(t=e.constructor)===n.constructor){if(t===Date)return e.getTime()===n.getTime();if(t===RegExp)return e.toString()===n.toString();if(t===Array){if((r=e.length)===n.length)for(;r--&&De(e[r],n[r]););return r===-1}if(t===Set){if(e.size!==n.size)return!1;for(r of e)if(u=r,u&&typeof u=="object"&&(u=pt(n,u),!u)||!n.has(u))return!1;return!0}if(t===Map){if(e.size!==n.size)return!1;for(r of e)if(u=r[0],u&&typeof u=="object"&&(u=pt(n,u),!u)||!De(r[1],n.get(u)))return!1;return!0}if(t===ArrayBuffer)e=new Uint8Array(e),n=new Uint8Array(n);else if(t===DataView){if((r=e.byteLength)===n.byteLength)for(;r--&&e.getInt8(r)===n.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===n.byteLength)for(;r--&&e[r]===n[r];);return r===-1}if(!t||typeof e=="object"){r=0;for(t in e)if(ct.call(e,t)&&++r&&!ct.call(n,t)||!(t in n)||!De(e[t],n[t]))return!1;return Object.keys(n).length===r}}return e!==e&&n!==n}let $e,Bt,It,Mt,Lt=!0;typeof process<"u"&&({FORCE_COLOR:$e,NODE_DISABLE_COLORS:Bt,NO_COLOR:It,TERM:Mt}={},Lt=process.stdout&&process.stdout.isTTY);const D={enabled:!Bt&&It==null&&Mt!=="dumb"&&($e!=null&&$e!=="0"||Lt),reset:N(0,0),bold:N(1,22),dim:N(2,22),italic:N(3,23),underline:N(4,24),inverse:N(7,27),hidden:N(8,28),strikethrough:N(9,29),black:N(30,39),red:N(31,39),green:N(32,39),yellow:N(33,39),blue:N(34,39),magenta:N(35,39),cyan:N(36,39),white:N(37,39),gray:N(90,39),grey:N(90,39),bgBlack:N(40,49),bgRed:N(41,49),bgGreen:N(42,49),bgYellow:N(43,49),bgBlue:N(44,49),bgMagenta:N(45,49),bgCyan:N(46,49),bgWhite:N(47,49)};function ht(e,n){let t=0,r,u="",o="";for(;t<e.length;t++)r=e[t],u+=r.open,o+=r.close,~n.indexOf(r.close)&&(n=n.replace(r.rgx,r.close+r.open));return u+n+o}function pn(e,n){let t={has:e,keys:n};return t.reset=D.reset.bind(t),t.bold=D.bold.bind(t),t.dim=D.dim.bind(t),t.italic=D.italic.bind(t),t.underline=D.underline.bind(t),t.inverse=D.inverse.bind(t),t.hidden=D.hidden.bind(t),t.strikethrough=D.strikethrough.bind(t),t.black=D.black.bind(t),t.red=D.red.bind(t),t.green=D.green.bind(t),t.yellow=D.yellow.bind(t),t.blue=D.blue.bind(t),t.magenta=D.magenta.bind(t),t.cyan=D.cyan.bind(t),t.white=D.white.bind(t),t.gray=D.gray.bind(t),t.grey=D.grey.bind(t),t.bgBlack=D.bgBlack.bind(t),t.bgRed=D.bgRed.bind(t),t.bgGreen=D.bgGreen.bind(t),t.bgYellow=D.bgYellow.bind(t),t.bgBlue=D.bgBlue.bind(t),t.bgMagenta=D.bgMagenta.bind(t),t.bgCyan=D.bgCyan.bind(t),t.bgWhite=D.bgWhite.bind(t),t}function N(e,n){let t={open:`\x1B[${e}m`,close:`\x1B[${n}m`,rgx:new RegExp(`\\x1b\\[${n}m`,"g")};return function(r){return this!==void 0&&this.has!==void 0?(~this.has.indexOf(e)||(this.has.push(e),this.keys.push(t)),r===void 0?this:D.enabled?ht(this.keys,r+""):r+""):r===void 0?pn([e],[t]):D.enabled?ht([t],r+""):r+""}}function ke(){}ke.prototype={diff:function(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=r.callback;typeof r=="function"&&(u=r,r={}),this.options=r;var o=this;function l(A){return u?(setTimeout(function(){u(void 0,A)},0),!0):A}n=this.castInput(n),t=this.castInput(t),n=this.removeEmpty(this.tokenize(n)),t=this.removeEmpty(this.tokenize(t));var s=t.length,g=n.length,h=1,c=s+g;r.maxEditLength&&(c=Math.min(c,r.maxEditLength));var x=[{newPos:-1,components:[]}],m=this.extractCommon(x[0],t,n,0);if(x[0].newPos+1>=s&&m+1>=g)return l([{value:this.join(t),count:t.length}]);function f(){for(var A=-1*h;A<=h;A+=2){var B=void 0,C=x[A-1],O=x[A+1],E=(O?O.newPos:0)-A;C&&(x[A-1]=void 0);var P=C&&C.newPos+1<s,H=O&&0<=E&&E<g;if(!P&&!H){x[A]=void 0;continue}if(!P||H&&C.newPos<O.newPos?(B=fn(O),o.pushComponent(B.components,void 0,!0)):(B=C,B.newPos++,o.pushComponent(B.components,!0,void 0)),E=o.extractCommon(B,t,n,A),B.newPos+1>=s&&E+1>=g)return l(hn(o,B.components,t,n,o.useLongestToken));x[A]=B}h++}if(u)(function A(){setTimeout(function(){if(h>c)return u();f()||A()},0)})();else for(;h<=c;){var L=f();if(L)return L}},pushComponent:function(n,t,r){var u=n[n.length-1];u&&u.added===t&&u.removed===r?n[n.length-1]={count:u.count+1,added:t,removed:r}:n.push({count:1,added:t,removed:r})},extractCommon:function(n,t,r,u){for(var o=t.length,l=r.length,s=n.newPos,g=s-u,h=0;s+1<o&&g+1<l&&this.equals(t[s+1],r[g+1]);)s++,g++,h++;return h&&n.components.push({count:h}),n.newPos=s,g},equals:function(n,t){return this.options.comparator?this.options.comparator(n,t):n===t||this.options.ignoreCase&&n.toLowerCase()===t.toLowerCase()},removeEmpty:function(n){for(var t=[],r=0;r<n.length;r++)n[r]&&t.push(n[r]);return t},castInput:function(n){return n},tokenize:function(n){return n.split("")},join:function(n){return n.join("")}};function hn(e,n,t,r,u){for(var o=0,l=n.length,s=0,g=0;o<l;o++){var h=n[o];if(h.removed){if(h.value=e.join(r.slice(g,g+h.count)),g+=h.count,o&&n[o-1].added){var x=n[o-1];n[o-1]=n[o],n[o]=x}}else{if(!h.added&&u){var c=t.slice(s,s+h.count);c=c.map(function(f,L){var A=r[g+L];return A.length>f.length?A:f}),h.value=e.join(c)}else h.value=e.join(t.slice(s,s+h.count));s+=h.count,h.added||(g+=h.count)}}var m=n[l-1];return l>1&&typeof m.value=="string"&&(m.added||m.removed)&&e.equals("",m.value)&&(n[l-2].value+=m.value,n.pop()),n}function fn(e){return{newPos:e.newPos,components:e.components.slice(0)}}var ft=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,dt=/\S/,Dt=new ke;Dt.equals=function(e,n){return this.options.ignoreCase&&(e=e.toLowerCase(),n=n.toLowerCase()),e===n||this.options.ignoreWhitespace&&!dt.test(e)&&!dt.test(n)};Dt.tokenize=function(e){for(var n=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<n.length-1;t++)!n[t+1]&&n[t+2]&&ft.test(n[t])&&ft.test(n[t+2])&&(n[t]+=n[t+2],n.splice(t+1,2),t--);return n};var Ot=new ke;Ot.tokenize=function(e){var n=[],t=e.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var r=0;r<t.length;r++){var u=t[r];r%2&&!this.options.newlineIsToken?n[n.length-1]+=u:(this.options.ignoreWhitespace&&(u=u.trim()),n.push(u))}return n};var dn=new ke;dn.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var gn=new ke;gn.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Re(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Re=function(n){return typeof n}:Re=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Re(e)}var mn=Object.prototype.toString,qe=new ke;qe.useLongestToken=!0;qe.tokenize=Ot.tokenize;qe.castInput=function(e){var n=this.options,t=n.undefinedReplacement,r=n.stringifyReplacer,u=r===void 0?function(o,l){return typeof l>"u"?t:l}:r;return typeof e=="string"?e:JSON.stringify(Ge(e,null,null,u),u,"  ")};qe.equals=function(e,n){return ke.prototype.equals.call(qe,e.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};function Ge(e,n,t,r,u){n=n||[],t=t||[],r&&(e=r(u,e));var o;for(o=0;o<n.length;o+=1)if(n[o]===e)return t[o];var l;if(mn.call(e)==="[object Array]"){for(n.push(e),l=new Array(e.length),t.push(l),o=0;o<e.length;o+=1)l[o]=Ge(e[o],n,t,r,u);return n.pop(),t.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),Re(e)==="object"&&e!==null){n.push(e),l={},t.push(l);var s=[],g;for(g in e)e.hasOwnProperty(g)&&s.push(g);for(s.sort(),o=0;o<s.length;o+=1)g=s[o],l[g]=Ge(e[g],n,t,r,g);n.pop(),t.pop()}else l=e;return l}var Ye=new ke;Ye.tokenize=function(e){return e.slice()};Ye.join=Ye.removeEmpty=function(e){return e};D.red,D.grey,D.green;D.dim().italic;D.dim("\u2192");D.dim("\xB7");D.dim("\u21B5");function He(e){e=e.replace(/\r?\n/g,`
`);let n=e.match(/^[ \t]*(?=\S)/gm),t=0,r=1/0,u=(n||[]).length;for(;t<u;t++)r=Math.min(r,n[t].length);return u&&r?e.replace(new RegExp(`^[ \\t]{${r}}`,"gm"),""):e}class xn extends Error{constructor(n={}){super(n.message),this.name="Assertion",this.code="ERR_ASSERTION",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.details=n.details||!1,this.generated=!!n.generated,this.operator=n.operator,this.expects=n.expects,this.actual=n.actual}}function ae(e,n,t,r,u,o,l){if(e)return;let s=l||o;if(l instanceof Error)throw l;let g=u&&u(n,t);throw new xn({actual:n,expects:t,operator:r,message:s,details:g,generated:!l})}function k(e,n){ae(!!e,!1,!0,"ok",!1,"Expected value to be truthy",n)}function ge(e,n){ae(!e,!0,!1,"not",!1,"Expected value to be falsey",n)}ge.ok=ge;ge.equal=function(e,n,t){ae(!De(e,n),e,n,"not.equal",!1,"Expected values not to be deeply equal",t)};ge.type=function(e,n,t){let r=typeof e;ae(r!==n,r,n,"not.type",!1,`Expected "${r}" not to be "${n}"`,t)};ge.instance=function(e,n,t){let r="`"+(n.name||n.constructor.name)+"`";ae(!(e instanceof n),e,n,"not.instance",!1,`Expected value not to be an instance of ${r}`,t)};ge.snapshot=function(e,n,t){e=He(e),n=He(n),ae(e!==n,e,n,"not.snapshot",!1,"Expected value not to match snapshot",t)};ge.fixture=function(e,n,t){e=He(e),n=He(n),ae(e!==n,e,n,"not.fixture",!1,"Expected value not to match fixture",t)};ge.match=function(e,n,t){typeof n=="string"?ae(!e.includes(n),e,n,"not.match",!1,`Expected value not to include "${n}" substring`,t):ae(!n.test(e),e,n,"not.match",!1,`Expected value not to match \`${String(n)}\` pattern`,t)};ge.throws=function(e,n,t){!t&&typeof n=="string"&&(t=n,n=null);try{e()}catch(r){typeof n=="function"?ae(!n(r),!0,!1,"not.throws",!1,"Expected function not to throw matching exception",t):n instanceof RegExp?ae(!n.test(r.message),!0,!1,"not.throws",!1,`Expected function not to throw exception matching \`${String(n)}\` pattern`,t):n||ae(!1,!0,!1,"not.throws",!1,"Expected function not to throw",t)}};const kn={};function bn(e,n){const t=n||kn,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,u=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return qt(e,r,u)}function qt(e,n,t){if(yn(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return gt(e.children,n,t)}return Array.isArray(e)?gt(e,n,t):""}function gt(e,n,t){const r=[];let u=-1;for(;++u<e.length;)r[u]=qt(e[u],n,t);return r.join("")}function yn(e){return Boolean(e&&typeof e=="object")}const F={attentionSideBefore:1,attentionSideAfter:2,atxHeadingOpeningFenceSizeMax:6,autolinkDomainSizeMax:63,autolinkSchemeSizeMax:32,cdataOpeningString:"CDATA[",characterGroupWhitespace:1,characterGroupPunctuation:2,characterReferenceDecimalSizeMax:7,characterReferenceHexadecimalSizeMax:6,characterReferenceNamedSizeMax:31,codeFencedSequenceSizeMin:3,contentTypeDocument:"document",contentTypeFlow:"flow",contentTypeContent:"content",contentTypeString:"string",contentTypeText:"text",hardBreakPrefixSizeMin:2,htmlRaw:1,htmlComment:2,htmlInstruction:3,htmlDeclaration:4,htmlCdata:5,htmlBasic:6,htmlComplete:7,htmlRawSizeMax:8,linkResourceDestinationBalanceMax:32,linkReferenceSizeMax:999,listItemValueSizeMax:10,numericBaseDecimal:10,numericBaseHexadecimal:16,tabSize:4,thematicBreakMarkerCountMin:3,v8MaxSafeChunkSize:1e4};function se(e,n,t,r){const u=e.length;let o=0,l;if(n<0?n=-n>u?0:u+n:n=n>u?u:n,t=t>0?t:0,r.length<F.v8MaxSafeChunkSize)l=Array.from(r),l.unshift(n,t),e.splice(...l);else for(t&&e.splice(n,t);o<r.length;)l=r.slice(o,o+F.v8MaxSafeChunkSize),l.unshift(n,0),e.splice(...l),o+=F.v8MaxSafeChunkSize,n+=F.v8MaxSafeChunkSize}function ie(e,n){return e.length>0?(se(e,e.length,0,n),e):n}const mt={}.hasOwnProperty;function Sn(e){const n={};let t=-1;for(;++t<e.length;)Cn(n,e[t]);return n}function Cn(e,n){let t;for(t in n){const u=(mt.call(e,t)?e[t]:void 0)||(e[t]={}),o=n[t];let l;if(o)for(l in o){mt.call(u,l)||(u[l]=[]);const s=o[l];wn(u[l],Array.isArray(s)?s:s?[s]:[])}}}function wn(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);se(e,0,0,r)}const a={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,soh:1,stx:2,etx:3,eot:4,enq:5,ack:6,bel:7,bs:8,ht:9,lf:10,vt:11,ff:12,cr:13,so:14,si:15,dle:16,dc1:17,dc2:18,dc3:19,dc4:20,nak:21,syn:22,etb:23,can:24,em:25,sub:26,esc:27,fs:28,gs:29,rs:30,us:31,space:32,exclamationMark:33,quotationMark:34,numberSign:35,dollarSign:36,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseB:66,uppercaseC:67,uppercaseD:68,uppercaseE:69,uppercaseF:70,uppercaseG:71,uppercaseH:72,uppercaseI:73,uppercaseJ:74,uppercaseK:75,uppercaseL:76,uppercaseM:77,uppercaseN:78,uppercaseO:79,uppercaseP:80,uppercaseQ:81,uppercaseR:82,uppercaseS:83,uppercaseT:84,uppercaseU:85,uppercaseV:86,uppercaseW:87,uppercaseX:88,uppercaseY:89,uppercaseZ:90,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseB:98,lowercaseC:99,lowercaseD:100,lowercaseE:101,lowercaseF:102,lowercaseG:103,lowercaseH:104,lowercaseI:105,lowercaseJ:106,lowercaseK:107,lowercaseL:108,lowercaseM:109,lowercaseN:110,lowercaseO:111,lowercaseP:112,lowercaseQ:113,lowercaseR:114,lowercaseS:115,lowercaseT:116,lowercaseU:117,lowercaseV:118,lowercaseW:119,lowercaseX:120,lowercaseY:121,lowercaseZ:122,leftCurlyBrace:123,verticalBar:124,rightCurlyBrace:125,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},Fn=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,le=be(/[A-Za-z]/),ue=be(/[\dA-Za-z]/),Tn=be(/[#-'*+\--9=?A-Z^-~]/);function Je(e){return e!==null&&(e<a.space||e===a.del)}const Ze=be(/\d/),En=be(/[\dA-Fa-f]/),zn=be(/[!-/:-@[-`{-~]/);function z(e){return e!==null&&e<a.horizontalTab}function ee(e){return e!==null&&(e<a.nul||e===a.space)}function R(e){return e===a.horizontalTab||e===a.virtualSpace||e===a.space}const An=be(Fn),Bn=be(/\s/);function be(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function V(e,n,t,r){const u=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(g){return R(g)?(e.enter(t),s(g)):n(g)}function s(g){return R(g)&&o++<u?(e.consume(g),s):(e.exit(t),n(g))}}const i={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkDocument:"chunkDocument",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"},In={tokenize:Mn};function Mn(e){const n=e.attempt(this.parser.constructs.contentInitial,r,u);let t;return n;function r(s){if(k(s===a.eof||z(s),"expected eol or eof"),s===a.eof){e.consume(s);return}return e.enter(i.lineEnding),e.consume(s),e.exit(i.lineEnding),V(e,n,i.linePrefix)}function u(s){return k(s!==a.eof&&!z(s),"expected anything other than a line ending or EOF"),e.enter(i.paragraph),o(s)}function o(s){const g=e.enter(i.chunkText,{contentType:F.contentTypeText,previous:t});return t&&(t.next=g),t=g,l(s)}function l(s){if(s===a.eof){e.exit(i.chunkText),e.exit(i.paragraph),e.consume(s);return}return z(s)?(e.consume(s),e.exit(i.chunkText),o):(e.consume(s),l)}}const Ln={tokenize:Dn},xt={tokenize:On};function Dn(e){const n=this,t=[];let r=0,u,o,l;return s;function s(E){if(r<t.length){const P=t[r];return n.containerState=P[1],k(P[0].continuation,"expected `continuation` to be defined on container construct"),e.attempt(P[0].continuation,g,h)(E)}return h(E)}function g(E){if(k(n.containerState,"expected `containerState` to be defined after continuation"),r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,u&&O();const P=n.events.length;let H=P,S;for(;H--;)if(n.events[H][0]==="exit"&&n.events[H][1].type===i.chunkFlow){S=n.events[H][1].end;break}k(S,"could not find previous flow chunk"),C(r);let j=P;for(;j<n.events.length;)n.events[j][1].end=Object.assign({},S),j++;return se(n.events,H+1,0,n.events.slice(P)),n.events.length=j,h(E)}return s(E)}function h(E){if(r===t.length){if(!u)return m(E);if(u.currentConstruct&&u.currentConstruct.concrete)return L(E);n.interrupt=Boolean(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(xt,c,x)(E)}function c(E){return u&&O(),C(r),m(E)}function x(E){return n.parser.lazy[n.now().line]=r!==t.length,l=n.now().offset,L(E)}function m(E){return n.containerState={},e.attempt(xt,f,L)(E)}function f(E){return k(n.currentConstruct,"expected `currentConstruct` to be defined on tokenizer"),k(n.containerState,"expected `containerState` to be defined on tokenizer"),r++,t.push([n.currentConstruct,n.containerState]),m(E)}function L(E){if(E===a.eof){u&&O(),C(0),e.consume(E);return}return u=u||n.parser.flow(n.now()),e.enter(i.chunkFlow,{contentType:F.contentTypeFlow,previous:o,_tokenizer:u}),A(E)}function A(E){if(E===a.eof){B(e.exit(i.chunkFlow),!0),C(0),e.consume(E);return}return z(E)?(e.consume(E),B(e.exit(i.chunkFlow)),r=0,n.interrupt=void 0,s):(e.consume(E),A)}function B(E,P){k(u,"expected `childFlow` to be defined when continuing");const H=n.sliceStream(E);if(P&&H.push(null),E.previous=o,o&&(o.next=E),o=E,u.defineSkip(E.start),u.write(H),n.parser.lazy[E.start.line]){let S=u.events.length;for(;S--;)if(u.events[S][1].start.offset<l&&(!u.events[S][1].end||u.events[S][1].end.offset>l))return;const j=n.events.length;let W=j,Q,Z;for(;W--;)if(n.events[W][0]==="exit"&&n.events[W][1].type===i.chunkFlow){if(Q){Z=n.events[W][1].end;break}Q=!0}for(k(Z,"could not find previous flow chunk"),C(r),S=j;S<n.events.length;)n.events[S][1].end=Object.assign({},Z),S++;se(n.events,W+1,0,n.events.slice(j)),n.events.length=S}}function C(E){let P=t.length;for(;P-- >E;){const H=t[P];n.containerState=H[1],k(H[0].exit,"expected `exit` to be defined on container construct"),H[0].exit.call(n,e)}t.length=E}function O(){k(n.containerState,"expected `containerState` to be defined when closing flow"),k(u,"expected `childFlow` to be defined when closing it"),u.write([a.eof]),o=void 0,u=void 0,n.containerState._closeFlow=void 0}}function On(e,n,t){return k(this.parser.constructs.disable.null,"expected `disable.null` to be populated"),V(e,e.attempt(this.parser.constructs.document,n,t),i.linePrefix,this.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)}function kt(e){if(e===a.eof||ee(e)||Bn(e))return F.characterGroupWhitespace;if(An(e))return F.characterGroupPunctuation}function nt(e,n,t){const r=[];let u=-1;for(;++u<e.length;){const o=e[u].resolveAll;o&&!r.includes(o)&&(n=o(n,t),r.push(o))}return n}const Xe={name:"attention",tokenize:Pn,resolveAll:qn};function qn(e,n){let t=-1,r,u,o,l,s,g,h,c;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;g=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const x=Object.assign({},e[r][1].end),m=Object.assign({},e[t][1].start);bt(x,-g),bt(m,g),l={type:g>1?i.strongSequence:i.emphasisSequence,start:x,end:Object.assign({},e[r][1].end)},s={type:g>1?i.strongSequence:i.emphasisSequence,start:Object.assign({},e[t][1].start),end:m},o={type:g>1?i.strongText:i.emphasisText,start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},u={type:g>1?i.strong:i.emphasis,start:Object.assign({},l.start),end:Object.assign({},s.end)},e[r][1].end=Object.assign({},l.start),e[t][1].start=Object.assign({},s.end),h=[],e[r][1].end.offset-e[r][1].start.offset&&(h=ie(h,[["enter",e[r][1],n],["exit",e[r][1],n]])),h=ie(h,[["enter",u,n],["enter",l,n],["exit",l,n],["enter",o,n]]),k(n.parser.constructs.insideSpan.null,"expected `insideSpan` to be populated"),h=ie(h,nt(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),h=ie(h,[["exit",o,n],["enter",s,n],["exit",s,n],["exit",u,n]]),e[t][1].end.offset-e[t][1].start.offset?(c=2,h=ie(h,[["enter",e[t][1],n],["exit",e[t][1],n]])):c=0,se(e,r-1,t-r+3,h),t=r+h.length-c-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function Pn(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,u=kt(r);let o;return l;function l(g){return k(g===a.asterisk||g===a.underscore,"expected asterisk or underscore"),o=g,e.enter("attentionSequence"),s(g)}function s(g){if(g===o)return e.consume(g),s;const h=e.exit("attentionSequence"),c=kt(g);k(t,"expected `attentionMarkers` to be populated");const x=!c||c===F.characterGroupPunctuation&&u||t.includes(g),m=!u||u===F.characterGroupPunctuation&&c||t.includes(r);return h._open=Boolean(o===a.asterisk?x:x&&(u||!m)),h._close=Boolean(o===a.asterisk?m:m&&(c||!x)),n(g)}}function bt(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const Rn={name:"autolink",tokenize:vn};function vn(e,n,t){let r=0;return u;function u(f){return k(f===a.lessThan,"expected `<`"),e.enter(i.autolink),e.enter(i.autolinkMarker),e.consume(f),e.exit(i.autolinkMarker),e.enter(i.autolinkProtocol),o}function o(f){return le(f)?(e.consume(f),l):h(f)}function l(f){return f===a.plusSign||f===a.dash||f===a.dot||ue(f)?(r=1,s(f)):h(f)}function s(f){return f===a.colon?(e.consume(f),r=0,g):(f===a.plusSign||f===a.dash||f===a.dot||ue(f))&&r++<F.autolinkSchemeSizeMax?(e.consume(f),s):(r=0,h(f))}function g(f){return f===a.greaterThan?(e.exit(i.autolinkProtocol),e.enter(i.autolinkMarker),e.consume(f),e.exit(i.autolinkMarker),e.exit(i.autolink),n):f===a.eof||f===a.space||f===a.lessThan||Je(f)?t(f):(e.consume(f),g)}function h(f){return f===a.atSign?(e.consume(f),c):Tn(f)?(e.consume(f),h):t(f)}function c(f){return ue(f)?x(f):t(f)}function x(f){return f===a.dot?(e.consume(f),r=0,c):f===a.greaterThan?(e.exit(i.autolinkProtocol).type=i.autolinkEmail,e.enter(i.autolinkMarker),e.consume(f),e.exit(i.autolinkMarker),e.exit(i.autolink),n):m(f)}function m(f){if((f===a.dash||ue(f))&&r++<F.autolinkDomainSizeMax){const L=f===a.dash?m:x;return e.consume(f),L}return t(f)}}const je={tokenize:_n,partial:!0};function _n(e,n,t){return r;function r(o){return R(o)?V(e,u,i.linePrefix)(o):u(o)}function u(o){return o===a.eof||z(o)?n(o):t(o)}}const Pt={name:"blockQuote",tokenize:Hn,continuation:{tokenize:jn},exit:Nn};function Hn(e,n,t){const r=this;return u;function u(l){if(l===a.greaterThan){const s=r.containerState;return k(s,"expected `containerState` to be defined in container"),s.open||(e.enter(i.blockQuote,{_container:!0}),s.open=!0),e.enter(i.blockQuotePrefix),e.enter(i.blockQuoteMarker),e.consume(l),e.exit(i.blockQuoteMarker),o}return t(l)}function o(l){return R(l)?(e.enter(i.blockQuotePrefixWhitespace),e.consume(l),e.exit(i.blockQuotePrefixWhitespace),e.exit(i.blockQuotePrefix),n):(e.exit(i.blockQuotePrefix),n(l))}}function jn(e,n,t){const r=this;return u;function u(l){return R(l)?(k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),V(e,o,i.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)(l)):o(l)}function o(l){return e.attempt(Pt,n,t)(l)}}function Nn(e){e.exit(i.blockQuote)}const Rt={name:"characterEscape",tokenize:Vn};function Vn(e,n,t){return r;function r(o){return k(o===a.backslash,"expected `\\`"),e.enter(i.characterEscape),e.enter(i.escapeMarker),e.consume(o),e.exit(i.escapeMarker),u}function u(o){return zn(o)?(e.enter(i.characterEscapeValue),e.consume(o),e.exit(i.characterEscapeValue),e.exit(i.characterEscape),n):t(o)}}const yt=document.createElement("i");function rt(e){const n="&"+e+";";yt.innerHTML=n;const t=yt.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const vt={name:"characterReference",tokenize:Wn};function Wn(e,n,t){const r=this;let u=0,o,l;return s;function s(x){return k(x===a.ampersand,"expected `&`"),e.enter(i.characterReference),e.enter(i.characterReferenceMarker),e.consume(x),e.exit(i.characterReferenceMarker),g}function g(x){return x===a.numberSign?(e.enter(i.characterReferenceMarkerNumeric),e.consume(x),e.exit(i.characterReferenceMarkerNumeric),h):(e.enter(i.characterReferenceValue),o=F.characterReferenceNamedSizeMax,l=ue,c(x))}function h(x){return x===a.uppercaseX||x===a.lowercaseX?(e.enter(i.characterReferenceMarkerHexadecimal),e.consume(x),e.exit(i.characterReferenceMarkerHexadecimal),e.enter(i.characterReferenceValue),o=F.characterReferenceHexadecimalSizeMax,l=En,c):(e.enter(i.characterReferenceValue),o=F.characterReferenceDecimalSizeMax,l=Ze,c(x))}function c(x){if(x===a.semicolon&&u){const m=e.exit(i.characterReferenceValue);return l===ue&&!rt(r.sliceSerialize(m))?t(x):(e.enter(i.characterReferenceMarker),e.consume(x),e.exit(i.characterReferenceMarker),e.exit(i.characterReference),n)}return l(x)&&u++<o?(e.consume(x),c):t(x)}}const St={tokenize:Un,partial:!0},Ct={name:"codeFenced",tokenize:Qn,concrete:!0};function Qn(e,n,t){const r=this,u={tokenize:H,partial:!0};let o=0,l=0,s;return g;function g(S){return h(S)}function h(S){k(S===a.graveAccent||S===a.tilde,"expected `` ` `` or `~`");const j=r.events[r.events.length-1];return o=j&&j[1].type===i.linePrefix?j[2].sliceSerialize(j[1],!0).length:0,s=S,e.enter(i.codeFenced),e.enter(i.codeFencedFence),e.enter(i.codeFencedFenceSequence),c(S)}function c(S){return S===s?(l++,e.consume(S),c):l<F.codeFencedSequenceSizeMin?t(S):(e.exit(i.codeFencedFenceSequence),R(S)?V(e,x,i.whitespace)(S):x(S))}function x(S){return S===a.eof||z(S)?(e.exit(i.codeFencedFence),r.interrupt?n(S):e.check(St,A,P)(S)):(e.enter(i.codeFencedFenceInfo),e.enter(i.chunkString,{contentType:F.contentTypeString}),m(S))}function m(S){return S===a.eof||z(S)?(e.exit(i.chunkString),e.exit(i.codeFencedFenceInfo),x(S)):R(S)?(e.exit(i.chunkString),e.exit(i.codeFencedFenceInfo),V(e,f,i.whitespace)(S)):S===a.graveAccent&&S===s?t(S):(e.consume(S),m)}function f(S){return S===a.eof||z(S)?x(S):(e.enter(i.codeFencedFenceMeta),e.enter(i.chunkString,{contentType:F.contentTypeString}),L(S))}function L(S){return S===a.eof||z(S)?(e.exit(i.chunkString),e.exit(i.codeFencedFenceMeta),x(S)):S===a.graveAccent&&S===s?t(S):(e.consume(S),L)}function A(S){return k(z(S),"expected eol"),e.attempt(u,P,B)(S)}function B(S){return k(z(S),"expected eol"),e.enter(i.lineEnding),e.consume(S),e.exit(i.lineEnding),C}function C(S){return o>0&&R(S)?V(e,O,i.linePrefix,o+1)(S):O(S)}function O(S){return S===a.eof||z(S)?e.check(St,A,P)(S):(e.enter(i.codeFlowValue),E(S))}function E(S){return S===a.eof||z(S)?(e.exit(i.codeFlowValue),O(S)):(e.consume(S),E)}function P(S){return e.exit(i.codeFenced),n(S)}function H(S,j,W){let Q=0;return Z;function Z(M){return k(z(M),"expected eol"),S.enter(i.lineEnding),S.consume(M),S.exit(i.lineEnding),$}function $(M){return k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),S.enter(i.codeFencedFence),R(M)?V(S,q,i.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)(M):q(M)}function q(M){return M===s?(S.enter(i.codeFencedFenceSequence),T(M)):W(M)}function T(M){return M===s?(Q++,S.consume(M),T):Q>=l?(S.exit(i.codeFencedFenceSequence),R(M)?V(S,I,i.whitespace)(M):I(M)):W(M)}function I(M){return M===a.eof||z(M)?(S.exit(i.codeFencedFence),j(M)):W(M)}}}function Un(e,n,t){const r=this;return u;function u(l){return l===a.eof?t(l):(k(z(l),"expected eol"),e.enter(i.lineEnding),e.consume(l),e.exit(i.lineEnding),o)}function o(l){return r.parser.lazy[r.now().line]?t(l):n(l)}}const Qe={name:"codeIndented",tokenize:Gn},$n={tokenize:Yn,partial:!0};function Gn(e,n,t){const r=this;return u;function u(h){return k(R(h)),e.enter(i.codeIndented),V(e,o,i.linePrefix,F.tabSize+1)(h)}function o(h){const c=r.events[r.events.length-1];return c&&c[1].type===i.linePrefix&&c[2].sliceSerialize(c[1],!0).length>=F.tabSize?l(h):t(h)}function l(h){return h===a.eof?g(h):z(h)?e.attempt($n,l,g)(h):(e.enter(i.codeFlowValue),s(h))}function s(h){return h===a.eof||z(h)?(e.exit(i.codeFlowValue),l(h)):(e.consume(h),s)}function g(h){return e.exit(i.codeIndented),n(h)}}function Yn(e,n,t){const r=this;return u;function u(l){return r.parser.lazy[r.now().line]?t(l):z(l)?(e.enter(i.lineEnding),e.consume(l),e.exit(i.lineEnding),u):V(e,o,i.linePrefix,F.tabSize+1)(l)}function o(l){const s=r.events[r.events.length-1];return s&&s[1].type===i.linePrefix&&s[2].sliceSerialize(s[1],!0).length>=F.tabSize?n(l):z(l)?u(l):t(l)}}const Jn={name:"codeText",tokenize:Xn,resolve:Zn,previous:_t};function Zn(e){let n=e.length-4,t=3,r,u;if((e[t][1].type===i.lineEnding||e[t][1].type==="space")&&(e[n][1].type===i.lineEnding||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type===i.codeTextData){e[t][1].type=i.codeTextPadding,e[n][1].type=i.codeTextPadding,t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)u===void 0?r!==n&&e[r][1].type!==i.lineEnding&&(u=r):(r===n||e[r][1].type===i.lineEnding)&&(e[u][1].type=i.codeTextData,r!==u+2&&(e[u][1].end=e[r-1][1].end,e.splice(u+2,r-u-2),n-=r-u-2,r=u+2),u=void 0);return e}function _t(e){return e!==a.graveAccent||this.events[this.events.length-1][1].type===i.characterEscape}function Xn(e,n,t){const r=this;let u=0,o,l;return s;function s(m){return k(m===a.graveAccent,"expected `` ` ``"),k(_t.call(r,r.previous),"expected correct previous"),e.enter(i.codeText),e.enter(i.codeTextSequence),g(m)}function g(m){return m===a.graveAccent?(e.consume(m),u++,g):(e.exit(i.codeTextSequence),h(m))}function h(m){return m===a.eof?t(m):m===a.space?(e.enter("space"),e.consume(m),e.exit("space"),h):m===a.graveAccent?(l=e.enter(i.codeTextSequence),o=0,x(m)):z(m)?(e.enter(i.lineEnding),e.consume(m),e.exit(i.lineEnding),h):(e.enter(i.codeTextData),c(m))}function c(m){return m===a.eof||m===a.space||m===a.graveAccent||z(m)?(e.exit(i.codeTextData),h(m)):(e.consume(m),c)}function x(m){return m===a.graveAccent?(e.consume(m),o++,x):o===u?(e.exit(i.codeTextSequence),e.exit(i.codeText),n(m)):(l.type=i.codeTextData,c(m))}}function Ht(e){const n={};let t=-1,r,u,o,l,s,g,h;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type===i.chunkFlow&&e[t-1][1].type===i.listItemPrefix&&(k(r[1]._tokenizer,"expected `_tokenizer` on subtokens"),g=r[1]._tokenizer.events,o=0,o<g.length&&g[o][1].type===i.lineEndingBlank&&(o+=2),o<g.length&&g[o][1].type===i.content))for(;++o<g.length&&g[o][1].type!==i.content;)g[o][1].type===i.chunkText&&(g[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Kn(e,t)),t=n[t],h=!0);else if(r[1]._container){for(o=t,u=void 0;o--&&(l=e[o],l[1].type===i.lineEnding||l[1].type===i.lineEndingBlank);)l[0]==="enter"&&(u&&(e[u][1].type=i.lineEndingBlank),l[1].type=i.lineEnding,u=o);u&&(r[1].end=Object.assign({},e[u][1].start),s=e.slice(u,t),s.unshift(r),se(e,u,t-u+1,s))}}return!h}function Kn(e,n){const t=e[n][1],r=e[n][2];let u=n-1;const o=[];k(t.contentType,"expected `contentType` on subtokens");const l=t._tokenizer||r.parser[t.contentType](t.start),s=l.events,g=[],h={};let c,x,m=-1,f=t,L=0,A=0;const B=[A];for(;f;){for(;e[++u][1]!==f;);k(!x||f.previous===x,"expected previous to match"),k(!x||x.next===f,"expected next to match"),o.push(u),f._tokenizer||(c=r.sliceStream(f),f.next||c.push(a.eof),x&&l.defineSkip(f.start),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(c),f._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),x=f,f=f.next}for(f=t;++m<s.length;)s[m][0]==="exit"&&s[m-1][0]==="enter"&&s[m][1].type===s[m-1][1].type&&s[m][1].start.line!==s[m][1].end.line&&(k(f,"expected a current token"),A=m+1,B.push(A),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(l.events=[],f?(f._tokenizer=void 0,f.previous=void 0,k(!f.next,"expected no next token")):B.pop(),m=B.length;m--;){const C=s.slice(B[m],B[m+1]),O=o.pop();k(O!==void 0,"expected a start position when splicing"),g.unshift([O,O+C.length-1]),se(e,O,2,C)}for(m=-1;++m<g.length;)h[L+g[m][0]]=L+g[m][1],L+=g[m][1]-g[m][0]-1;return h}const er={tokenize:rr,resolve:nr},tr={tokenize:ir,partial:!0};function nr(e){return Ht(e),e}function rr(e,n){let t;return r;function r(s){return k(s!==a.eof&&!z(s),"expected no eof or eol"),e.enter(i.content),t=e.enter(i.chunkContent,{contentType:F.contentTypeContent}),u(s)}function u(s){return s===a.eof?o(s):z(s)?e.check(tr,l,o)(s):(e.consume(s),u)}function o(s){return e.exit(i.chunkContent),e.exit(i.content),n(s)}function l(s){return k(z(s),"expected eol"),e.consume(s),e.exit(i.chunkContent),k(t,"expected previous token"),t.next=e.enter(i.chunkContent,{contentType:F.contentTypeContent,previous:t}),t=t.next,u}}function ir(e,n,t){const r=this;return u;function u(l){return k(z(l),"expected a line ending"),e.exit(i.chunkContent),e.enter(i.lineEnding),e.consume(l),e.exit(i.lineEnding),V(e,o,i.linePrefix)}function o(l){if(l===a.eof||z(l))return t(l);k(r.parser.constructs.disable.null,"expected `disable.null` to be populated");const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type===i.linePrefix&&s[2].sliceSerialize(s[1],!0).length>=F.tabSize?n(l):e.interrupt(r.parser.constructs.flow,t,n)(l)}}function jt(e,n,t,r,u,o,l,s,g){const h=g||Number.POSITIVE_INFINITY;let c=0;return x;function x(C){return C===a.lessThan?(e.enter(r),e.enter(u),e.enter(o),e.consume(C),e.exit(o),m):C===a.eof||C===a.space||C===a.rightParenthesis||Je(C)?t(C):(e.enter(r),e.enter(l),e.enter(s),e.enter(i.chunkString,{contentType:F.contentTypeString}),A(C))}function m(C){return C===a.greaterThan?(e.enter(o),e.consume(C),e.exit(o),e.exit(u),e.exit(r),n):(e.enter(s),e.enter(i.chunkString,{contentType:F.contentTypeString}),f(C))}function f(C){return C===a.greaterThan?(e.exit(i.chunkString),e.exit(s),m(C)):C===a.eof||C===a.lessThan||z(C)?t(C):(e.consume(C),C===a.backslash?L:f)}function L(C){return C===a.lessThan||C===a.greaterThan||C===a.backslash?(e.consume(C),f):f(C)}function A(C){return!c&&(C===a.eof||C===a.rightParenthesis||ee(C))?(e.exit(i.chunkString),e.exit(s),e.exit(l),e.exit(r),n(C)):c<h&&C===a.leftParenthesis?(e.consume(C),c++,A):C===a.rightParenthesis?(e.consume(C),c--,A):C===a.eof||C===a.space||C===a.leftParenthesis||Je(C)?t(C):(e.consume(C),C===a.backslash?B:A)}function B(C){return C===a.leftParenthesis||C===a.rightParenthesis||C===a.backslash?(e.consume(C),A):A(C)}}function Nt(e,n,t,r,u,o){const l=this;let s=0,g;return h;function h(f){return k(f===a.leftSquareBracket,"expected `[`"),e.enter(r),e.enter(u),e.consume(f),e.exit(u),e.enter(o),c}function c(f){return s>F.linkReferenceSizeMax||f===a.eof||f===a.leftSquareBracket||f===a.rightSquareBracket&&!g||f===a.caret&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?t(f):f===a.rightSquareBracket?(e.exit(o),e.enter(u),e.consume(f),e.exit(u),e.exit(r),n):z(f)?(e.enter(i.lineEnding),e.consume(f),e.exit(i.lineEnding),c):(e.enter(i.chunkString,{contentType:F.contentTypeString}),x(f))}function x(f){return f===a.eof||f===a.leftSquareBracket||f===a.rightSquareBracket||z(f)||s++>F.linkReferenceSizeMax?(e.exit(i.chunkString),c(f)):(e.consume(f),g||(g=!R(f)),f===a.backslash?m:x)}function m(f){return f===a.leftSquareBracket||f===a.backslash||f===a.rightSquareBracket?(e.consume(f),s++,x):x(f)}}function Vt(e,n,t,r,u,o){let l;return s;function s(m){return m===a.quotationMark||m===a.apostrophe||m===a.leftParenthesis?(e.enter(r),e.enter(u),e.consume(m),e.exit(u),l=m===a.leftParenthesis?a.rightParenthesis:m,g):t(m)}function g(m){return m===l?(e.enter(u),e.consume(m),e.exit(u),e.exit(r),n):(e.enter(o),h(m))}function h(m){return m===l?(e.exit(o),g(l)):m===a.eof?t(m):z(m)?(e.enter(i.lineEnding),e.consume(m),e.exit(i.lineEnding),V(e,h,i.linePrefix)):(e.enter(i.chunkString,{contentType:F.contentTypeString}),c(m))}function c(m){return m===l||m===a.eof||z(m)?(e.exit(i.chunkString),h(m)):(e.consume(m),m===a.backslash?x:c)}function x(m){return m===l||m===a.backslash?(e.consume(m),c):c(m)}}function Oe(e,n){let t;return r;function r(u){return z(u)?(e.enter(i.lineEnding),e.consume(u),e.exit(i.lineEnding),t=!0,r):R(u)?V(e,r,t?i.linePrefix:i.lineSuffix)(u):n(u)}}const de={ht:"	",lf:`
`,cr:"\r",space:" ",exclamationMark:"!",quotationMark:'"',numberSign:"#",dollarSign:"$",percentSign:"%",ampersand:"&",apostrophe:"'",leftParenthesis:"(",rightParenthesis:")",asterisk:"*",plusSign:"+",comma:",",dash:"-",dot:".",slash:"/",digit0:"0",digit1:"1",digit2:"2",digit3:"3",digit4:"4",digit5:"5",digit6:"6",digit7:"7",digit8:"8",digit9:"9",colon:":",semicolon:";",lessThan:"<",equalsTo:"=",greaterThan:">",questionMark:"?",atSign:"@",uppercaseA:"A",uppercaseB:"B",uppercaseC:"C",uppercaseD:"D",uppercaseE:"E",uppercaseF:"F",uppercaseG:"G",uppercaseH:"H",uppercaseI:"I",uppercaseJ:"J",uppercaseK:"K",uppercaseL:"L",uppercaseM:"M",uppercaseN:"N",uppercaseO:"O",uppercaseP:"P",uppercaseQ:"Q",uppercaseR:"R",uppercaseS:"S",uppercaseT:"T",uppercaseU:"U",uppercaseV:"V",uppercaseW:"W",uppercaseX:"X",uppercaseY:"Y",uppercaseZ:"Z",leftSquareBracket:"[",backslash:"\\",rightSquareBracket:"]",caret:"^",underscore:"_",graveAccent:"`",lowercaseA:"a",lowercaseB:"b",lowercaseC:"c",lowercaseD:"d",lowercaseE:"e",lowercaseF:"f",lowercaseG:"g",lowercaseH:"h",lowercaseI:"i",lowercaseJ:"j",lowercaseK:"k",lowercaseL:"l",lowercaseM:"m",lowercaseN:"n",lowercaseO:"o",lowercaseP:"p",lowercaseQ:"q",lowercaseR:"r",lowercaseS:"s",lowercaseT:"t",lowercaseU:"u",lowercaseV:"v",lowercaseW:"w",lowercaseX:"x",lowercaseY:"y",lowercaseZ:"z",leftCurlyBrace:"{",verticalBar:"|",rightCurlyBrace:"}",tilde:"~",replacementCharacter:"\uFFFD"};function Te(e){return e.replace(/[\t\n\r ]+/g,de.space).replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ar={name:"definition",tokenize:or},ur={tokenize:lr,partial:!0};function or(e,n,t){const r=this;let u;return o;function o(f){return e.enter(i.definition),l(f)}function l(f){return k(f===a.leftSquareBracket,"expected `[`"),Nt.call(r,e,s,t,i.definitionLabel,i.definitionLabelMarker,i.definitionLabelString)(f)}function s(f){return u=Te(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===a.colon?(e.enter(i.definitionMarker),e.consume(f),e.exit(i.definitionMarker),g):t(f)}function g(f){return ee(f)?Oe(e,h)(f):h(f)}function h(f){return jt(e,c,t,i.definitionDestination,i.definitionDestinationLiteral,i.definitionDestinationLiteralMarker,i.definitionDestinationRaw,i.definitionDestinationString)(f)}function c(f){return e.attempt(ur,x,x)(f)}function x(f){return R(f)?V(e,m,i.whitespace)(f):m(f)}function m(f){return f===a.eof||z(f)?(e.exit(i.definition),r.parser.defined.push(u),n(f)):t(f)}}function lr(e,n,t){return r;function r(s){return ee(s)?Oe(e,u)(s):t(s)}function u(s){return Vt(e,o,t,i.definitionTitle,i.definitionTitleMarker,i.definitionTitleString)(s)}function o(s){return R(s)?V(e,l,i.whitespace)(s):l(s)}function l(s){return s===a.eof||z(s)?n(s):t(s)}}const sr={name:"hardBreakEscape",tokenize:cr};function cr(e,n,t){return r;function r(o){return k(o===a.backslash,"expected `\\`"),e.enter(i.hardBreakEscape),e.consume(o),u}function u(o){return z(o)?(e.exit(i.hardBreakEscape),n(o)):t(o)}}const pr={name:"headingAtx",tokenize:fr,resolve:hr};function hr(e,n){let t=e.length-2,r=3,u,o;return e[r][1].type===i.whitespace&&(r+=2),t-2>r&&e[t][1].type===i.whitespace&&(t-=2),e[t][1].type===i.atxHeadingSequence&&(r===t-1||t-4>r&&e[t-2][1].type===i.whitespace)&&(t-=r+1===t?2:4),t>r&&(u={type:i.atxHeadingText,start:e[r][1].start,end:e[t][1].end},o={type:i.chunkText,start:e[r][1].start,end:e[t][1].end,contentType:F.contentTypeText},se(e,r,t-r+1,[["enter",u,n],["enter",o,n],["exit",o,n],["exit",u,n]])),e}function fr(e,n,t){let r=0;return u;function u(c){return e.enter(i.atxHeading),o(c)}function o(c){return k(c===a.numberSign,"expected `#`"),e.enter(i.atxHeadingSequence),l(c)}function l(c){return c===a.numberSign&&r++<F.atxHeadingOpeningFenceSizeMax?(e.consume(c),l):c===a.eof||ee(c)?(e.exit(i.atxHeadingSequence),s(c)):t(c)}function s(c){return c===a.numberSign?(e.enter(i.atxHeadingSequence),g(c)):c===a.eof||z(c)?(e.exit(i.atxHeading),n(c)):R(c)?V(e,s,i.whitespace)(c):(e.enter(i.atxHeadingText),h(c))}function g(c){return c===a.numberSign?(e.consume(c),g):(e.exit(i.atxHeadingSequence),s(c))}function h(c){return c===a.eof||c===a.numberSign||ee(c)?(e.exit(i.atxHeadingText),s(c)):(e.consume(c),h)}}const dr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wt=["pre","script","style","textarea"],gr={name:"htmlFlow",tokenize:br,resolveTo:kr,concrete:!0},mr={tokenize:Sr,partial:!0},xr={tokenize:yr,partial:!0};function kr(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type===i.htmlFlow););return n>1&&e[n-2][1].type===i.linePrefix&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function br(e,n,t){const r=this;let u,o,l,s,g;return h;function h(d){return c(d)}function c(d){return k(d===a.lessThan,"expected `<`"),e.enter(i.htmlFlow),e.enter(i.htmlFlowData),e.consume(d),x}function x(d){return d===a.exclamationMark?(e.consume(d),m):d===a.slash?(e.consume(d),o=!0,A):d===a.questionMark?(e.consume(d),u=F.htmlInstruction,r.interrupt?n:p):le(d)?(e.consume(d),l=String.fromCharCode(d),B):t(d)}function m(d){return d===a.dash?(e.consume(d),u=F.htmlComment,f):d===a.leftSquareBracket?(e.consume(d),u=F.htmlCdata,s=0,L):le(d)?(e.consume(d),u=F.htmlDeclaration,r.interrupt?n:p):t(d)}function f(d){return d===a.dash?(e.consume(d),r.interrupt?n:p):t(d)}function L(d){const te=F.cdataOpeningString;return d===te.charCodeAt(s++)?(e.consume(d),s===te.length?r.interrupt?n:q:L):t(d)}function A(d){return le(d)?(e.consume(d),l=String.fromCharCode(d),B):t(d)}function B(d){if(d===a.eof||d===a.slash||d===a.greaterThan||ee(d)){const te=d===a.slash,we=l.toLowerCase();return!te&&!o&&wt.includes(we)?(u=F.htmlRaw,r.interrupt?n(d):q(d)):dr.includes(l.toLowerCase())?(u=F.htmlBasic,te?(e.consume(d),C):r.interrupt?n(d):q(d)):(u=F.htmlComplete,r.interrupt&&!r.parser.lazy[r.now().line]?t(d):o?O(d):E(d))}return d===a.dash||ue(d)?(e.consume(d),l+=String.fromCharCode(d),B):t(d)}function C(d){return d===a.greaterThan?(e.consume(d),r.interrupt?n:q):t(d)}function O(d){return R(d)?(e.consume(d),O):Z(d)}function E(d){return d===a.slash?(e.consume(d),Z):d===a.colon||d===a.underscore||le(d)?(e.consume(d),P):R(d)?(e.consume(d),E):Z(d)}function P(d){return d===a.dash||d===a.dot||d===a.colon||d===a.underscore||ue(d)?(e.consume(d),P):H(d)}function H(d){return d===a.equalsTo?(e.consume(d),S):R(d)?(e.consume(d),H):E(d)}function S(d){return d===a.eof||d===a.lessThan||d===a.equalsTo||d===a.greaterThan||d===a.graveAccent?t(d):d===a.quotationMark||d===a.apostrophe?(e.consume(d),g=d,j):R(d)?(e.consume(d),S):W(d)}function j(d){return d===g?(e.consume(d),g=null,Q):d===a.eof||z(d)?t(d):(e.consume(d),j)}function W(d){return d===a.eof||d===a.quotationMark||d===a.apostrophe||d===a.slash||d===a.lessThan||d===a.equalsTo||d===a.greaterThan||d===a.graveAccent||ee(d)?H(d):(e.consume(d),W)}function Q(d){return d===a.slash||d===a.greaterThan||R(d)?E(d):t(d)}function Z(d){return d===a.greaterThan?(e.consume(d),$):t(d)}function $(d){return d===a.eof||z(d)?q(d):R(d)?(e.consume(d),$):t(d)}function q(d){return d===a.dash&&u===F.htmlComment?(e.consume(d),U):d===a.lessThan&&u===F.htmlRaw?(e.consume(d),Y):d===a.greaterThan&&u===F.htmlDeclaration?(e.consume(d),re):d===a.questionMark&&u===F.htmlInstruction?(e.consume(d),p):d===a.rightSquareBracket&&u===F.htmlCdata?(e.consume(d),oe):z(d)&&(u===F.htmlBasic||u===F.htmlComplete)?(e.exit(i.htmlFlowData),e.check(mr,ce,T)(d)):d===a.eof||z(d)?(e.exit(i.htmlFlowData),T(d)):(e.consume(d),q)}function T(d){return e.check(xr,I,ce)(d)}function I(d){return k(z(d)),e.enter(i.lineEnding),e.consume(d),e.exit(i.lineEnding),M}function M(d){return d===a.eof||z(d)?T(d):(e.enter(i.htmlFlowData),q(d))}function U(d){return d===a.dash?(e.consume(d),p):q(d)}function Y(d){return d===a.slash?(e.consume(d),l="",ne):q(d)}function ne(d){if(d===a.greaterThan){const te=l.toLowerCase();return wt.includes(te)?(e.consume(d),re):q(d)}return le(d)&&l.length<F.htmlRawSizeMax?(e.consume(d),l+=String.fromCharCode(d),ne):q(d)}function oe(d){return d===a.rightSquareBracket?(e.consume(d),p):q(d)}function p(d){return d===a.greaterThan?(e.consume(d),re):d===a.dash&&u===F.htmlComment?(e.consume(d),p):q(d)}function re(d){return d===a.eof||z(d)?(e.exit(i.htmlFlowData),ce(d)):(e.consume(d),re)}function ce(d){return e.exit(i.htmlFlow),n(d)}}function yr(e,n,t){const r=this;return u;function u(l){return z(l)?(e.enter(i.lineEnding),e.consume(l),e.exit(i.lineEnding),o):t(l)}function o(l){return r.parser.lazy[r.now().line]?t(l):n(l)}}function Sr(e,n,t){return r;function r(u){return k(z(u),"expected a line ending"),e.enter(i.lineEnding),e.consume(u),e.exit(i.lineEnding),e.attempt(je,n,t)}}const Cr={name:"htmlText",tokenize:wr};function wr(e,n,t){const r=this;let u,o,l;return s;function s(p){return k(p===a.lessThan,"expected `<`"),e.enter(i.htmlText),e.enter(i.htmlTextData),e.consume(p),g}function g(p){return p===a.exclamationMark?(e.consume(p),h):p===a.slash?(e.consume(p),H):p===a.questionMark?(e.consume(p),E):le(p)?(e.consume(p),W):t(p)}function h(p){return p===a.dash?(e.consume(p),c):p===a.leftSquareBracket?(e.consume(p),o=0,L):le(p)?(e.consume(p),O):t(p)}function c(p){return p===a.dash?(e.consume(p),f):t(p)}function x(p){return p===a.eof?t(p):p===a.dash?(e.consume(p),m):z(p)?(l=x,Y(p)):(e.consume(p),x)}function m(p){return p===a.dash?(e.consume(p),f):x(p)}function f(p){return p===a.greaterThan?U(p):p===a.dash?m(p):x(p)}function L(p){const re=F.cdataOpeningString;return p===re.charCodeAt(o++)?(e.consume(p),o===re.length?A:L):t(p)}function A(p){return p===a.eof?t(p):p===a.rightSquareBracket?(e.consume(p),B):z(p)?(l=A,Y(p)):(e.consume(p),A)}function B(p){return p===a.rightSquareBracket?(e.consume(p),C):A(p)}function C(p){return p===a.greaterThan?U(p):p===a.rightSquareBracket?(e.consume(p),C):A(p)}function O(p){return p===a.eof||p===a.greaterThan?U(p):z(p)?(l=O,Y(p)):(e.consume(p),O)}function E(p){return p===a.eof?t(p):p===a.questionMark?(e.consume(p),P):z(p)?(l=E,Y(p)):(e.consume(p),E)}function P(p){return p===a.greaterThan?U(p):E(p)}function H(p){return le(p)?(e.consume(p),S):t(p)}function S(p){return p===a.dash||ue(p)?(e.consume(p),S):j(p)}function j(p){return z(p)?(l=j,Y(p)):R(p)?(e.consume(p),j):U(p)}function W(p){return p===a.dash||ue(p)?(e.consume(p),W):p===a.slash||p===a.greaterThan||ee(p)?Q(p):t(p)}function Q(p){return p===a.slash?(e.consume(p),U):p===a.colon||p===a.underscore||le(p)?(e.consume(p),Z):z(p)?(l=Q,Y(p)):R(p)?(e.consume(p),Q):U(p)}function Z(p){return p===a.dash||p===a.dot||p===a.colon||p===a.underscore||ue(p)?(e.consume(p),Z):$(p)}function $(p){return p===a.equalsTo?(e.consume(p),q):z(p)?(l=$,Y(p)):R(p)?(e.consume(p),$):Q(p)}function q(p){return p===a.eof||p===a.lessThan||p===a.equalsTo||p===a.greaterThan||p===a.graveAccent?t(p):p===a.quotationMark||p===a.apostrophe?(e.consume(p),u=p,T):z(p)?(l=q,Y(p)):R(p)?(e.consume(p),q):(e.consume(p),I)}function T(p){return p===u?(e.consume(p),u=void 0,M):p===a.eof?t(p):z(p)?(l=T,Y(p)):(e.consume(p),T)}function I(p){return p===a.eof||p===a.quotationMark||p===a.apostrophe||p===a.lessThan||p===a.equalsTo||p===a.graveAccent?t(p):p===a.slash||p===a.greaterThan||ee(p)?Q(p):(e.consume(p),I)}function M(p){return p===a.slash||p===a.greaterThan||ee(p)?Q(p):t(p)}function U(p){return p===a.greaterThan?(e.consume(p),e.exit(i.htmlTextData),e.exit(i.htmlText),n):t(p)}function Y(p){return k(l,"expected return state"),k(z(p),"expected eol"),e.exit(i.htmlTextData),e.enter(i.lineEnding),e.consume(p),e.exit(i.lineEnding),ne}function ne(p){return k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),R(p)?V(e,oe,i.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)(p):oe(p)}function oe(p){return e.enter(i.htmlTextData),l(p)}}const it={name:"labelEnd",tokenize:Br,resolveTo:Ar,resolveAll:zr},Fr={tokenize:Ir},Tr={tokenize:Mr},Er={tokenize:Lr};function zr(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type===i.labelImage||t.type===i.labelLink||t.type===i.labelEnd)&&(e.splice(n+1,t.type===i.labelImage?4:2),t.type=i.data,n++)}return e}function Ar(e,n){let t=e.length,r=0,u,o,l,s;for(;t--;)if(u=e[t][1],o){if(u.type===i.link||u.type===i.labelLink&&u._inactive)break;e[t][0]==="enter"&&u.type===i.labelLink&&(u._inactive=!0)}else if(l){if(e[t][0]==="enter"&&(u.type===i.labelImage||u.type===i.labelLink)&&!u._balanced&&(o=t,u.type!==i.labelLink)){r=2;break}}else u.type===i.labelEnd&&(l=t);k(o!==void 0,"`open` is supposed to be found"),k(l!==void 0,"`close` is supposed to be found");const g={type:e[o][1].type===i.labelLink?i.link:i.image,start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},h={type:i.label,start:Object.assign({},e[o][1].start),end:Object.assign({},e[l][1].end)},c={type:i.labelText,start:Object.assign({},e[o+r+2][1].end),end:Object.assign({},e[l-2][1].start)};return s=[["enter",g,n],["enter",h,n]],s=ie(s,e.slice(o+1,o+r+3)),s=ie(s,[["enter",c,n]]),k(n.parser.constructs.insideSpan.null,"expected `insideSpan.null` to be populated"),s=ie(s,nt(n.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),n)),s=ie(s,[["exit",c,n],e[l-2],e[l-1],["exit",h,n]]),s=ie(s,e.slice(l+1)),s=ie(s,[["exit",g,n]]),se(e,o,e.length,s),e}function Br(e,n,t){const r=this;let u=r.events.length,o,l;for(;u--;)if((r.events[u][1].type===i.labelImage||r.events[u][1].type===i.labelLink)&&!r.events[u][1]._balanced){o=r.events[u][1];break}return s;function s(m){return k(m===a.rightSquareBracket,"expected `]`"),o?o._inactive?x(m):(l=r.parser.defined.includes(Te(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter(i.labelEnd),e.enter(i.labelMarker),e.consume(m),e.exit(i.labelMarker),e.exit(i.labelEnd),g):t(m)}function g(m){return m===a.leftParenthesis?e.attempt(Fr,c,l?c:x)(m):m===a.leftSquareBracket?e.attempt(Tr,c,l?h:x)(m):l?c(m):x(m)}function h(m){return e.attempt(Er,c,x)(m)}function c(m){return n(m)}function x(m){return o._balanced=!0,t(m)}}function Ir(e,n,t){return r;function r(x){return k(x===a.leftParenthesis,"expected left paren"),e.enter(i.resource),e.enter(i.resourceMarker),e.consume(x),e.exit(i.resourceMarker),u}function u(x){return ee(x)?Oe(e,o)(x):o(x)}function o(x){return x===a.rightParenthesis?c(x):jt(e,l,s,i.resourceDestination,i.resourceDestinationLiteral,i.resourceDestinationLiteralMarker,i.resourceDestinationRaw,i.resourceDestinationString,F.linkResourceDestinationBalanceMax)(x)}function l(x){return ee(x)?Oe(e,g)(x):c(x)}function s(x){return t(x)}function g(x){return x===a.quotationMark||x===a.apostrophe||x===a.leftParenthesis?Vt(e,h,t,i.resourceTitle,i.resourceTitleMarker,i.resourceTitleString)(x):c(x)}function h(x){return ee(x)?Oe(e,c)(x):c(x)}function c(x){return x===a.rightParenthesis?(e.enter(i.resourceMarker),e.consume(x),e.exit(i.resourceMarker),e.exit(i.resource),n):t(x)}}function Mr(e,n,t){const r=this;return u;function u(s){return k(s===a.leftSquareBracket,"expected left bracket"),Nt.call(r,e,o,l,i.reference,i.referenceMarker,i.referenceString)(s)}function o(s){return r.parser.defined.includes(Te(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(s):t(s)}function l(s){return t(s)}}function Lr(e,n,t){return r;function r(o){return k(o===a.leftSquareBracket,"expected left bracket"),e.enter(i.reference),e.enter(i.referenceMarker),e.consume(o),e.exit(i.referenceMarker),u}function u(o){return o===a.rightSquareBracket?(e.enter(i.referenceMarker),e.consume(o),e.exit(i.referenceMarker),e.exit(i.reference),n):t(o)}}const Dr={name:"labelStartImage",tokenize:Or,resolveAll:it.resolveAll};function Or(e,n,t){const r=this;return u;function u(s){return k(s===a.exclamationMark,"expected `!`"),e.enter(i.labelImage),e.enter(i.labelImageMarker),e.consume(s),e.exit(i.labelImageMarker),o}function o(s){return s===a.leftSquareBracket?(e.enter(i.labelMarker),e.consume(s),e.exit(i.labelMarker),e.exit(i.labelImage),l):t(s)}function l(s){return s===a.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const qr={name:"labelStartLink",tokenize:Pr,resolveAll:it.resolveAll};function Pr(e,n,t){const r=this;return u;function u(l){return k(l===a.leftSquareBracket,"expected `[`"),e.enter(i.labelLink),e.enter(i.labelMarker),e.consume(l),e.exit(i.labelMarker),e.exit(i.labelLink),o}function o(l){return l===a.caret&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const Ue={name:"lineEnding",tokenize:Rr};function Rr(e,n){return t;function t(r){return k(z(r),"expected eol"),e.enter(i.lineEnding),e.consume(r),e.exit(i.lineEnding),V(e,n,i.linePrefix)}}const ve={name:"thematicBreak",tokenize:vr};function vr(e,n,t){let r=0,u;return o;function o(h){return e.enter(i.thematicBreak),l(h)}function l(h){return k(h===a.asterisk||h===a.dash||h===a.underscore,"expected `*`, `-`, or `_`"),u=h,s(h)}function s(h){return h===u?(e.enter(i.thematicBreakSequence),g(h)):r>=F.thematicBreakMarkerCountMin&&(h===a.eof||z(h))?(e.exit(i.thematicBreak),n(h)):t(h)}function g(h){return h===u?(e.consume(h),r++,g):(e.exit(i.thematicBreakSequence),R(h)?V(e,s,i.whitespace)(h):s(h))}}const K={name:"list",tokenize:jr,continuation:{tokenize:Nr},exit:Wr},_r={tokenize:Qr,partial:!0},Hr={tokenize:Vr,partial:!0};function jr(e,n,t){const r=this,u=r.events[r.events.length-1];let o=u&&u[1].type===i.linePrefix?u[2].sliceSerialize(u[1],!0).length:0,l=0;return s;function s(f){k(r.containerState,"expected state");const L=r.containerState.type||(f===a.asterisk||f===a.plusSign||f===a.dash?i.listUnordered:i.listOrdered);if(L===i.listUnordered?!r.containerState.marker||f===r.containerState.marker:Ze(f)){if(r.containerState.type||(r.containerState.type=L,e.enter(L,{_container:!0})),L===i.listUnordered)return e.enter(i.listItemPrefix),f===a.asterisk||f===a.dash?e.check(ve,t,h)(f):h(f);if(!r.interrupt||f===a.digit1)return e.enter(i.listItemPrefix),e.enter(i.listItemValue),g(f)}return t(f)}function g(f){return k(r.containerState,"expected state"),Ze(f)&&++l<F.listItemValueSizeMax?(e.consume(f),g):(!r.interrupt||l<2)&&(r.containerState.marker?f===r.containerState.marker:f===a.rightParenthesis||f===a.dot)?(e.exit(i.listItemValue),h(f)):t(f)}function h(f){return k(r.containerState,"expected state"),k(f!==a.eof,"eof (`null`) is not a marker"),e.enter(i.listItemMarker),e.consume(f),e.exit(i.listItemMarker),r.containerState.marker=r.containerState.marker||f,e.check(je,r.interrupt?t:c,e.attempt(_r,m,x))}function c(f){return k(r.containerState,"expected state"),r.containerState.initialBlankLine=!0,o++,m(f)}function x(f){return R(f)?(e.enter(i.listItemPrefixWhitespace),e.consume(f),e.exit(i.listItemPrefixWhitespace),m):t(f)}function m(f){return k(r.containerState,"expected state"),r.containerState.size=o+r.sliceSerialize(e.exit(i.listItemPrefix),!0).length,n(f)}}function Nr(e,n,t){const r=this;return k(r.containerState,"expected state"),r.containerState._closeFlow=void 0,e.check(je,u,o);function u(s){return k(r.containerState,"expected state"),k(typeof r.containerState.size=="number","expected size"),r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,V(e,n,i.listItemIndent,r.containerState.size+1)(s)}function o(s){return k(r.containerState,"expected state"),r.containerState.furtherBlankLines||!R(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Hr,n,l)(s))}function l(s){return k(r.containerState,"expected state"),r.containerState._closeFlow=!0,r.interrupt=void 0,k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),V(e,e.attempt(K,n,t),i.linePrefix,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize)(s)}}function Vr(e,n,t){const r=this;return k(r.containerState,"expected state"),k(typeof r.containerState.size=="number","expected size"),V(e,u,i.listItemIndent,r.containerState.size+1);function u(o){k(r.containerState,"expected state");const l=r.events[r.events.length-1];return l&&l[1].type===i.listItemIndent&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?n(o):t(o)}}function Wr(e){k(this.containerState,"expected state"),k(typeof this.containerState.type=="string","expected type"),e.exit(this.containerState.type)}function Qr(e,n,t){const r=this;return k(r.parser.constructs.disable.null,"expected `disable.null` to be populated"),V(e,u,i.listItemPrefixWhitespace,r.parser.constructs.disable.null.includes("codeIndented")?void 0:F.tabSize+1);function u(o){const l=r.events[r.events.length-1];return!R(o)&&l&&l[1].type===i.listItemPrefixWhitespace?n(o):t(o)}}const Ft={name:"setextUnderline",tokenize:$r,resolveTo:Ur};function Ur(e,n){let t=e.length,r,u,o;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type===i.content){r=t;break}e[t][1].type===i.paragraph&&(u=t)}else e[t][1].type===i.content&&e.splice(t,1),!o&&e[t][1].type===i.definition&&(o=t);k(u!==void 0,"expected a `text` index to be found"),k(r!==void 0,"expected a `text` index to be found");const l={type:i.setextHeading,start:Object.assign({},e[u][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[u][1].type=i.setextHeadingText,o?(e.splice(u,0,["enter",l,n]),e.splice(o+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[o][1].end)):e[r][1]=l,e.push(["exit",l,n]),e}function $r(e,n,t){const r=this;let u;return o;function o(h){let c=r.events.length,x;for(k(h===a.dash||h===a.equalsTo,"expected `=` or `-`");c--;)if(r.events[c][1].type!==i.lineEnding&&r.events[c][1].type!==i.linePrefix&&r.events[c][1].type!==i.content){x=r.events[c][1].type===i.paragraph;break}return!r.parser.lazy[r.now().line]&&(r.interrupt||x)?(e.enter(i.setextHeadingLine),u=h,l(h)):t(h)}function l(h){return e.enter(i.setextHeadingLineSequence),s(h)}function s(h){return h===u?(e.consume(h),s):(e.exit(i.setextHeadingLineSequence),R(h)?V(e,g,i.lineSuffix)(h):g(h))}function g(h){return h===a.eof||z(h)?(e.exit(i.setextHeadingLine),n(h)):t(h)}}const Gr={tokenize:Yr};function Yr(e){const n=this,t=e.attempt(je,r,e.attempt(this.parser.constructs.flowInitial,u,V(e,e.attempt(this.parser.constructs.flow,u,e.attempt(er,u)),i.linePrefix)));return t;function r(o){if(k(o===a.eof||z(o),"expected eol or eof"),o===a.eof){e.consume(o);return}return e.enter(i.lineEndingBlank),e.consume(o),e.exit(i.lineEndingBlank),n.currentConstruct=void 0,t}function u(o){if(k(o===a.eof||z(o),"expected eol or eof"),o===a.eof){e.consume(o);return}return e.enter(i.lineEnding),e.consume(o),e.exit(i.lineEnding),n.currentConstruct=void 0,t}}const Jr={resolveAll:Qt()},Zr=Wt("string"),Xr=Wt("text");function Wt(e){return{tokenize:n,resolveAll:Qt(e==="text"?Kr:void 0)};function n(t){const r=this,u=this.parser.constructs[e],o=t.attempt(u,l,s);return l;function l(c){return h(c)?o(c):s(c)}function s(c){if(c===a.eof){t.consume(c);return}return t.enter(i.data),t.consume(c),g}function g(c){return h(c)?(t.exit(i.data),o(c)):(t.consume(c),g)}function h(c){if(c===a.eof)return!0;const x=u[c];let m=-1;if(x)for(k(Array.isArray(x),"expected `disable.null` to be populated");++m<x.length;){const f=x[m];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function Qt(e){return n;function n(t,r){let u=-1,o;for(;++u<=t.length;)o===void 0?t[u]&&t[u][1].type===i.data&&(o=u,u++):(!t[u]||t[u][1].type!==i.data)&&(u!==o+2&&(t[o][1].end=t[u-1][1].end,t.splice(o+2,u-o-2),u=o+2),o=void 0);return e?e(t,r):t}}function Kr(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type===i.lineEnding)&&e[t-1][1].type===i.data){const r=e[t-1][1],u=n.sliceStream(r);let o=u.length,l=-1,s=0,g;for(;o--;){const h=u[o];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===a.space;)s++,l--;if(l)break;l=-1}else if(h===a.horizontalTab)g=!0,s++;else if(h!==a.virtualSpace){o++;break}}if(s){const h={type:t===e.length||g||s<F.hardBreakPrefixSizeMin?i.lineSuffix:i.hardBreakTrailing,start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+o,_bufferIndex:o?l:r.start._bufferIndex+l},end:Object.assign({},r.end)};r.end=Object.assign({},h.start),r.start.offset===r.end.offset?Object.assign(r,h):(e.splice(t,0,["enter",h,n],["exit",h,n]),t+=2)}t++}return e}var Ke={exports:{}},Ee=1e3,ze=Ee*60,Ae=ze*60,Ce=Ae*24,ei=Ce*7,ti=Ce*365.25,ni=function(e,n){n=n||{};var t=typeof e;if(t==="string"&&e.length>0)return ri(e);if(t==="number"&&isFinite(e))return n.long?ai(e):ii(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ri(e){if(e=String(e),!(e.length>100)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!n){var t=parseFloat(n[1]),r=(n[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*ti;case"weeks":case"week":case"w":return t*ei;case"days":case"day":case"d":return t*Ce;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Ae;case"minutes":case"minute":case"mins":case"min":case"m":return t*ze;case"seconds":case"second":case"secs":case"sec":case"s":return t*Ee;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function ii(e){var n=Math.abs(e);return n>=Ce?Math.round(e/Ce)+"d":n>=Ae?Math.round(e/Ae)+"h":n>=ze?Math.round(e/ze)+"m":n>=Ee?Math.round(e/Ee)+"s":e+"ms"}function ai(e){var n=Math.abs(e);return n>=Ce?Pe(e,n,Ce,"day"):n>=Ae?Pe(e,n,Ae,"hour"):n>=ze?Pe(e,n,ze,"minute"):n>=Ee?Pe(e,n,Ee,"second"):e+" ms"}function Pe(e,n,t,r){var u=n>=t*1.5;return Math.round(e/t)+" "+r+(u?"s":"")}function ui(e){t.debug=t,t.default=t,t.coerce=g,t.disable=o,t.enable=u,t.enabled=l,t.humanize=ni,t.destroy=h,Object.keys(e).forEach(c=>{t[c]=e[c]}),t.names=[],t.skips=[],t.formatters={};function n(c){let x=0;for(let m=0;m<c.length;m++)x=(x<<5)-x+c.charCodeAt(m),x|=0;return t.colors[Math.abs(x)%t.colors.length]}t.selectColor=n;function t(c){let x,m=null,f,L;function A(...B){if(!A.enabled)return;const C=A,O=Number(new Date),E=O-(x||O);C.diff=E,C.prev=x,C.curr=O,x=O,B[0]=t.coerce(B[0]),typeof B[0]!="string"&&B.unshift("%O");let P=0;B[0]=B[0].replace(/%([a-zA-Z%])/g,(S,j)=>{if(S==="%%")return"%";P++;const W=t.formatters[j];if(typeof W=="function"){const Q=B[P];S=W.call(C,Q),B.splice(P,1),P--}return S}),t.formatArgs.call(C,B),(C.log||t.log).apply(C,B)}return A.namespace=c,A.useColors=t.useColors(),A.color=t.selectColor(c),A.extend=r,A.destroy=t.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(f!==t.namespaces&&(f=t.namespaces,L=t.enabled(c)),L),set:B=>{m=B}}),typeof t.init=="function"&&t.init(A),A}function r(c,x){const m=t(this.namespace+(typeof x>"u"?":":x)+c);return m.log=this.log,m}function u(c){t.save(c),t.namespaces=c,t.names=[],t.skips=[];let x;const m=(typeof c=="string"?c:"").split(/[\s,]+/),f=m.length;for(x=0;x<f;x++)!m[x]||(c=m[x].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.slice(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function o(){const c=[...t.names.map(s),...t.skips.map(s).map(x=>"-"+x)].join(",");return t.enable(""),c}function l(c){if(c[c.length-1]==="*")return!0;let x,m;for(x=0,m=t.skips.length;x<m;x++)if(t.skips[x].test(c))return!1;for(x=0,m=t.names.length;x<m;x++)if(t.names[x].test(c))return!0;return!1}function s(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function g(c){return c instanceof Error?c.stack||c.message:c}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var oi=ui;(function(e,n){n.formatArgs=r,n.save=u,n.load=o,n.useColors=t,n.storage=l(),n.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;g.splice(1,0,h,"color: inherit");let c=0,x=0;g[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(c++,m==="%c"&&(x=c))}),g.splice(x,0,h)}n.log=console.debug||console.log||(()=>{});function u(g){try{g?n.storage.setItem("debug",g):n.storage.removeItem("debug")}catch{}}function o(){let g;try{g=n.storage.getItem("debug")}catch{}return!g&&typeof process<"u"&&"env"in process&&(g={}.DEBUG),g}function l(){try{return localStorage}catch{}}e.exports=oi(n);const{formatters:s}=e.exports;s.j=function(g){try{return JSON.stringify(g)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(Ke,Ke.exports);var li=Ke.exports;const Se=li("micromark");function si(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const u={},o=[];let l=[],s=[],g=!0;const h={consume:P,enter:H,exit:S,attempt:Q(j),check:Q(W),interrupt:Q(W,{interrupt:!0})},c={previous:a.eof,code:a.eof,containerState:{},events:[],parser:e,sliceStream:A,sliceSerialize:L,now:B,defineSkip:C,write:f};let x=n.tokenize.call(c,h),m;return n.resolveAll&&o.push(n),c;function f(T){return l=ie(l,T),O(),l[l.length-1]!==a.eof?[]:(Z(n,0),c.events=nt(o,c.events,c),c.events)}function L(T,I){return pi(A(T),I)}function A(T){return ci(l,T)}function B(){const{line:T,column:I,offset:M,_index:U,_bufferIndex:Y}=r;return{line:T,column:I,offset:M,_index:U,_bufferIndex:Y}}function C(T){u[T.line]=T.column,q(),Se("position: define skip: `%j`",r)}function O(){let T;for(;r._index<l.length;){const I=l[r._index];if(typeof I=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<I.length;)E(I.charCodeAt(r._bufferIndex));else E(I)}}function E(T){k(g===!0,"expected character to be consumed"),g=void 0,Se("main: passing `%s` to %s",T,x&&x.name),m=T,k(typeof x=="function","expected state"),x=x(T)}function P(T){k(T===m,"expected given code to equal expected code"),Se("consume: `%s`",T),k(g===void 0,"expected code to not have been consumed: this might be because `return x(code)` instead of `return x` was used"),k(T===null?c.events.length===0||c.events[c.events.length-1][0]==="exit":c.events[c.events.length-1][0]==="enter","expected last token to be open"),z(T)?(r.line++,r.column=1,r.offset+=T===a.carriageReturnLineFeed?2:1,q(),Se("position: after eol: `%j`",r)):T!==a.virtualSpace&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=T,g=!0}function H(T,I){const M=I||{};return M.type=T,M.start=B(),k(typeof T=="string","expected string type"),k(T.length>0,"expected non-empty string"),Se("enter: `%s`",T),c.events.push(["enter",M,c]),s.push(M),M}function S(T){k(typeof T=="string","expected string type"),k(T.length>0,"expected non-empty string");const I=s.pop();return k(I,"cannot close w/o open tokens"),I.end=B(),k(T===I.type,"expected exit token to match current token"),k(!(I.start._index===I.end._index&&I.start._bufferIndex===I.end._bufferIndex),"expected non-empty token (`"+T+"`)"),Se("exit: `%s`",I.type),c.events.push(["exit",I,c]),I}function j(T,I){Z(T,I.from)}function W(T,I){I.restore()}function Q(T,I){return M;function M(U,Y,ne){let oe,p,re,ce;return Array.isArray(U)?te(U):"tokenize"in U?te([U]):d(U);function d(J){return Ie;function Ie(pe){const Fe=pe!==null&&J[pe],ye=pe!==null&&J.null,Ve=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(ye)?ye:ye?[ye]:[]];return te(Ve)(pe)}}function te(J){return oe=J,p=0,J.length===0?(k(ne,"expected `bogusState` to be given"),ne):we(J[p])}function we(J){return Ie;function Ie(pe){return ce=$(),re=J,J.partial||(c.currentConstruct=J),k(c.parser.constructs.disable.null,"expected `disable.null` to be populated"),J.name&&c.parser.constructs.disable.null.includes(J.name)?Be(pe):J.tokenize.call(I?Object.assign(Object.create(c),I):c,h,Ne,Be)(pe)}}function Ne(J){return k(J===m,"expected code"),g=!0,T(re,ce),Y}function Be(J){return k(J===m,"expected code"),g=!0,ce.restore(),++p<oe.length?we(oe[p]):ne}}}function Z(T,I){T.resolveAll&&!o.includes(T)&&o.push(T),T.resolve&&se(c.events,I,c.events.length-I,T.resolve(c.events.slice(I),c)),T.resolveTo&&(c.events=T.resolveTo(c.events,c)),k(T.partial||c.events.length===0||c.events[c.events.length-1][0]==="exit","expected last token to end")}function $(){const T=B(),I=c.previous,M=c.currentConstruct,U=c.events.length,Y=Array.from(s);return{restore:ne,from:U};function ne(){r=T,c.previous=I,c.currentConstruct=M,c.events.length=U,s=Y,q(),Se("position: restore: `%j`",r)}}function q(){r.line in u&&r.column<2&&(r.column=u[r.line],r.offset+=u[r.line]-1)}}function ci(e,n){const t=n.start._index,r=n.start._bufferIndex,u=n.end._index,o=n.end._bufferIndex;let l;if(t===u)k(o>-1,"expected non-negative end buffer index"),k(r>-1,"expected non-negative start buffer index"),l=[e[t].slice(r,o)];else{if(l=e.slice(t,u),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):(k(r===0,"expected `startBufferIndex` to be `0`"),l.shift())}o>0&&l.push(e[u].slice(0,o))}return l}function pi(e,n){let t=-1;const r=[];let u;for(;++t<e.length;){const o=e[t];let l;if(typeof o=="string")l=o;else switch(o){case a.carriageReturn:{l=de.cr;break}case a.lineFeed:{l=de.lf;break}case a.carriageReturnLineFeed:{l=de.cr+de.lf;break}case a.horizontalTab:{l=n?de.space:de.ht;break}case a.virtualSpace:{if(!n&&u)continue;l=de.space;break}default:k(typeof o=="number","expected number"),l=String.fromCharCode(o)}u=o===a.horizontalTab,r.push(l)}return r.join("")}const hi={[a.asterisk]:K,[a.plusSign]:K,[a.dash]:K,[a.digit0]:K,[a.digit1]:K,[a.digit2]:K,[a.digit3]:K,[a.digit4]:K,[a.digit5]:K,[a.digit6]:K,[a.digit7]:K,[a.digit8]:K,[a.digit9]:K,[a.greaterThan]:Pt},fi={[a.leftSquareBracket]:ar},di={[a.horizontalTab]:Qe,[a.virtualSpace]:Qe,[a.space]:Qe},gi={[a.numberSign]:pr,[a.asterisk]:ve,[a.dash]:[Ft,ve],[a.lessThan]:gr,[a.equalsTo]:Ft,[a.underscore]:ve,[a.graveAccent]:Ct,[a.tilde]:Ct},mi={[a.ampersand]:vt,[a.backslash]:Rt},xi={[a.carriageReturn]:Ue,[a.lineFeed]:Ue,[a.carriageReturnLineFeed]:Ue,[a.exclamationMark]:Dr,[a.ampersand]:vt,[a.asterisk]:Xe,[a.lessThan]:[Rn,Cr],[a.leftSquareBracket]:qr,[a.backslash]:[sr,Rt],[a.rightSquareBracket]:it,[a.underscore]:Xe,[a.graveAccent]:Jn},ki={null:[Xe,Jr]},bi={null:[a.asterisk,a.underscore]},yi={null:[]};var Si=Object.freeze(Object.defineProperty({__proto__:null,document:hi,contentInitial:fi,flowInitial:di,flow:gi,string:mi,text:xi,insideSpan:ki,attentionMarkers:bi,disable:yi},Symbol.toStringTag,{value:"Module"}));function Ci(e){const t=Sn([Si,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:u(In),document:u(Ln),flow:u(Gr),string:u(Zr),text:u(Xr)};return r;function u(o){return l;function l(s){return si(r,o,s)}}}const Tt=/[\0\t\n\r]/g;function wi(){let e=1,n="",t=!0,r;return u;function u(o,l,s){const g=[];let h,c,x,m,f;for(o=n+o.toString(l),x=0,n="",t&&(o.charCodeAt(0)===a.byteOrderMarker&&x++,t=void 0);x<o.length;){if(Tt.lastIndex=x,h=Tt.exec(o),m=h&&h.index!==void 0?h.index:o.length,f=o.charCodeAt(m),!h){n=o.slice(x);break}if(f===a.lf&&x===m&&r)g.push(a.carriageReturnLineFeed),r=void 0;else switch(r&&(g.push(a.carriageReturn),r=void 0),x<m&&(g.push(o.slice(x,m)),e+=m-x),f){case a.nul:{g.push(a.replacementCharacter),e++;break}case a.ht:{for(c=Math.ceil(e/F.tabSize)*F.tabSize,g.push(a.horizontalTab);e++<c;)g.push(a.virtualSpace);break}case a.lf:{g.push(a.lineFeed),e=1;break}default:r=!0,e=1}x=m+1}return s&&(r&&g.push(a.carriageReturn),n&&g.push(n),g.push(a.eof)),g}}function Fi(e){for(;!Ht(e););return e}function Ut(e,n){const t=Number.parseInt(e,n);return t<a.ht||t===a.vt||t>a.cr&&t<a.space||t>a.tilde&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?de.replacementCharacter:String.fromCharCode(t)}const Ti=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ei(e){return e.replace(Ti,zi)}function zi(e,n,t){if(n)return n;if(t.charCodeAt(0)===a.numberSign){const u=t.charCodeAt(1),o=u===a.lowercaseX||u===a.uppercaseX;return Ut(t.slice(o?2:1),o?F.numericBaseHexadecimal:F.numericBaseDecimal)}return rt(t)||e}function _e(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Et(e.position):"start"in e||"end"in e?Et(e):"line"in e||"column"in e?et(e):""}function et(e){return zt(e&&e.line)+":"+zt(e&&e.column)}function Et(e){return et(e&&e.start)+"-"+et(e&&e.end)}function zt(e){return e&&typeof e=="number"?e:1}const $t={}.hasOwnProperty,Gt=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),Ai(t)(Fi(Ci(t).document().write(wi()(e,n,!0))))};function Ai(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(lt),autolinkProtocol:$,autolinkEmail:$,atxHeading:s(at),blockQuote:s(Fe),characterEscape:$,characterReference:$,codeFenced:s(ye),codeFencedFenceInfo:g,codeFencedFenceMeta:g,codeIndented:s(ye,g),codeText:s(Ve,g),codeTextData:$,data:$,codeFlowValue:$,definition:s(Kt),definitionDestinationString:g,definitionLabelString:g,definitionTitleString:g,emphasis:s(en),hardBreakEscape:s(ut),hardBreakTrailing:s(ut),htmlFlow:s(ot,g),htmlFlowData:$,htmlText:s(ot,g),htmlTextData:$,image:s(tn),label:g,link:s(lt),listItem:s(nn),listItemValue:L,listOrdered:s(st,f),listUnordered:s(st),paragraph:s(rn),reference:we,referenceString:g,resourceDestinationString:g,resourceTitleString:g,setextHeading:s(at),strong:s(an),thematicBreak:s(on)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:pe,autolinkProtocol:Ie,blockQuote:c(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:Be,characterReferenceMarkerNumeric:Be,characterReferenceValue:J,codeFenced:c(O),codeFencedFence:C,codeFencedFenceInfo:A,codeFencedFenceMeta:B,codeFlowValue:q,codeIndented:c(E),codeText:c(Y),codeTextData:q,data:q,definition:c(),definitionDestinationString:S,definitionLabelString:P,definitionTitleString:H,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(M),htmlFlowData:q,htmlText:c(U),htmlTextData:q,image:c(oe),label:re,labelText:p,lineEnding:T,link:c(ne),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Ne,resourceDestinationString:ce,resourceTitleString:d,resource:te,setextHeading:c(Z),setextHeadingLineSequence:Q,setextHeadingText:W,strong:c(),thematicBreak:c()}};Yt(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(b){let y={type:"root",children:[]};const w={stack:[y],tokenStack:[],config:n,enter:h,exit:x,buffer:g,resume:m,setData:o,getData:l},v=[];let _=-1;for(;++_<b.length;)if(b[_][1].type===i.listOrdered||b[_][1].type===i.listUnordered)if(b[_][0]==="enter")v.push(_);else{const X=v.pop();k(typeof X=="number","expected list ot be open"),_=u(b,X,_)}for(_=-1;++_<b.length;){const X=n[b[_][0]];$t.call(X,b[_][1].type)&&X[b[_][1].type].call(Object.assign({sliceSerialize:b[_][2].sliceSerialize},w),b[_][1])}if(w.tokenStack.length>0){const X=w.tokenStack[w.tokenStack.length-1];(X[1]||At).call(w,void 0,X[0])}for(y.position={start:xe(b.length>0?b[0][1].start:{line:1,column:1,offset:0}),end:xe(b.length>0?b[b.length-2][1].end:{line:1,column:1,offset:0})},_=-1;++_<n.transforms.length;)y=n.transforms[_](y)||y;return y}function u(b,y,w){let v=y-1,_=-1,X=!1,me,he,Me,Le;for(;++v<=w;){const G=b[v];if(G[1].type===i.listUnordered||G[1].type===i.listOrdered||G[1].type===i.blockQuote?(G[0]==="enter"?_++:_--,Le=void 0):G[1].type===i.lineEndingBlank?G[0]==="enter"&&(me&&!Le&&!_&&!Me&&(Me=v),Le=void 0):G[1].type===i.linePrefix||G[1].type===i.listItemValue||G[1].type===i.listItemMarker||G[1].type===i.listItemPrefix||G[1].type===i.listItemPrefixWhitespace||(Le=void 0),!_&&G[0]==="enter"&&G[1].type===i.listItemPrefix||_===-1&&G[0]==="exit"&&(G[1].type===i.listUnordered||G[1].type===i.listOrdered)){if(me){let We=v;for(he=void 0;We--;){const fe=b[We];if(fe[1].type===i.lineEnding||fe[1].type===i.lineEndingBlank){if(fe[0]==="exit")continue;he&&(b[he][1].type=i.lineEndingBlank,X=!0),fe[1].type=i.lineEnding,he=We}else if(!(fe[1].type===i.linePrefix||fe[1].type===i.blockQuotePrefix||fe[1].type===i.blockQuotePrefixWhitespace||fe[1].type===i.blockQuoteMarker||fe[1].type===i.listItemIndent))break}Me&&(!he||Me<he)&&(me._spread=!0),me.end=Object.assign({},he?b[he][1].start:G[1].end),b.splice(he||v,0,["exit",me,G[2]]),v++,w++}G[1].type===i.listItemPrefix&&(me={type:"listItem",_spread:!1,start:Object.assign({},G[1].start),end:void 0},b.splice(v,0,["enter",me,G[2]]),v++,w++,Me=void 0,Le=!0)}}return b[y][1]._spread=X,w}function o(b,y){t[b]=y}function l(b){return t[b]}function s(b,y){return w;function w(v){h.call(this,b(v),v),y&&y.call(this,v)}}function g(){this.stack.push({type:"fragment",children:[]})}function h(b,y,w){const v=this.stack[this.stack.length-1];return k(v,"expected `parent`"),k("children"in v,"expected `parent`"),v.children.push(b),this.stack.push(b),this.tokenStack.push([y,w]),b.position={start:xe(y.start)},b}function c(b){return y;function y(w){b&&b.call(this,w),x.call(this,w)}}function x(b,y){const w=this.stack.pop();k(w,"expected `node`");const v=this.tokenStack.pop();if(v)v[0].type!==b.type&&(y?y.call(this,b,v[0]):(v[1]||At).call(this,b,v[0]));else throw new Error("Cannot close `"+b.type+"` ("+_e({start:b.start,end:b.end})+"): it\u2019s not open");return k(w.type!=="fragment","unexpected fragment `exit`ed"),k(w.position,"expected `position` to be defined"),w.position.end=xe(b.end),w}function m(){return bn(this.stack.pop())}function f(){o("expectingFirstListItemValue",!0)}function L(b){if(l("expectingFirstListItemValue")){const y=this.stack[this.stack.length-2];k(y,"expected nodes on stack"),k(y.type==="list","expected list on stack"),y.start=Number.parseInt(this.sliceSerialize(b),F.numericBaseDecimal),o("expectingFirstListItemValue")}}function A(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="code","expected code on stack"),y.lang=b}function B(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="code","expected code on stack"),y.meta=b}function C(){l("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function O(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="code","expected code on stack"),y.value=b.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function E(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="code","expected code on stack"),y.value=b.replace(/(\r?\n|\r)$/g,"")}function P(b){const y=this.resume(),w=this.stack[this.stack.length-1];k(w,"expected node on stack"),k(w.type==="definition","expected definition on stack"),w.label=y,w.identifier=Te(this.sliceSerialize(b)).toLowerCase()}function H(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="definition","expected definition on stack"),y.title=b}function S(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="definition","expected definition on stack"),y.url=b}function j(b){const y=this.stack[this.stack.length-1];if(k(y,"expected node on stack"),k(y.type==="heading","expected heading on stack"),!y.depth){const w=this.sliceSerialize(b).length;k(w===1||w===2||w===3||w===4||w===5||w===6,"expected `depth` between `1` and `6`"),y.depth=w}}function W(){o("setextHeadingSlurpLineEnding",!0)}function Q(b){const y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="heading","expected heading on stack"),y.depth=this.sliceSerialize(b).charCodeAt(0)===a.equalsTo?1:2}function Z(){o("setextHeadingSlurpLineEnding")}function $(b){const y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k("children"in y,"expected parent on stack");let w=y.children[y.children.length-1];(!w||w.type!=="text")&&(w=un(),w.position={start:xe(b.start)},y.children.push(w)),this.stack.push(w)}function q(b){const y=this.stack.pop();k(y,"expected a `node` to be on the stack"),k("value"in y,"expected a `literal` to be on the stack"),k(y.position,"expected `node` to have an open position"),y.value+=this.sliceSerialize(b),y.position.end=xe(b.end)}function T(b){const y=this.stack[this.stack.length-1];if(k(y,"expected `node`"),l("atHardBreak")){k("children"in y,"expected `parent`");const w=y.children[y.children.length-1];k(w.position,"expected tail to have a starting position"),w.position.end=xe(b.end),o("atHardBreak");return}!l("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(y.type)&&($.call(this,b),q.call(this,b))}function I(){o("atHardBreak",!0)}function M(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="html","expected html on stack"),y.value=b}function U(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="html","expected html on stack"),y.value=b}function Y(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="inlineCode","expected inline code on stack"),y.value=b}function ne(){const b=this.stack[this.stack.length-1];if(k(b,"expected node on stack"),k(b.type==="link","expected link on stack"),l("inReference")){const y=l("referenceType")||"shortcut";b.type+="Reference",b.referenceType=y,delete b.url,delete b.title}else delete b.identifier,delete b.label;o("referenceType")}function oe(){const b=this.stack[this.stack.length-1];if(k(b,"expected node on stack"),k(b.type==="image","expected image on stack"),l("inReference")){const y=l("referenceType")||"shortcut";b.type+="Reference",b.referenceType=y,delete b.url,delete b.title}else delete b.identifier,delete b.label;o("referenceType")}function p(b){const y=this.sliceSerialize(b),w=this.stack[this.stack.length-2];k(w,"expected ancestor on stack"),k(w.type==="image"||w.type==="link","expected image or link on stack"),w.label=Ei(y),w.identifier=Te(y).toLowerCase()}function re(){const b=this.stack[this.stack.length-1];k(b,"expected node on stack"),k(b.type==="fragment","expected fragment on stack");const y=this.resume(),w=this.stack[this.stack.length-1];if(k(w,"expected node on stack"),k(w.type==="image"||w.type==="link","expected image or link on stack"),o("inReference",!0),w.type==="link"){const v=b.children;w.children=v}else w.alt=y}function ce(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="image"||y.type==="link","expected image or link on stack"),y.url=b}function d(){const b=this.resume(),y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="image"||y.type==="link","expected image or link on stack"),y.title=b}function te(){o("inReference")}function we(){o("referenceType","collapsed")}function Ne(b){const y=this.resume(),w=this.stack[this.stack.length-1];k(w,"expected node on stack"),k(w.type==="image"||w.type==="link","expected image reference or link reference on stack"),w.label=y,w.identifier=Te(this.sliceSerialize(b)).toLowerCase(),o("referenceType","full")}function Be(b){k(b.type==="characterReferenceMarkerNumeric"||b.type==="characterReferenceMarkerHexadecimal"),o("characterReferenceType",b.type)}function J(b){const y=this.sliceSerialize(b),w=l("characterReferenceType");let v;if(w)v=Ut(y,w===i.characterReferenceMarkerNumeric?F.numericBaseDecimal:F.numericBaseHexadecimal),o("characterReferenceType");else{const X=rt(y);k(X!==!1,"expected reference to decode"),v=X}const _=this.stack.pop();k(_,"expected `node`"),k(_.position,"expected `node.position`"),k("value"in _,"expected `node.value`"),_.value+=v,_.position.end=xe(b.end)}function Ie(b){q.call(this,b);const y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="link","expected link on stack"),y.url=this.sliceSerialize(b)}function pe(b){q.call(this,b);const y=this.stack[this.stack.length-1];k(y,"expected node on stack"),k(y.type==="link","expected link on stack"),y.url="mailto:"+this.sliceSerialize(b)}function Fe(){return{type:"blockquote",children:[]}}function ye(){return{type:"code",lang:null,meta:null,value:""}}function Ve(){return{type:"inlineCode",value:""}}function Kt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function en(){return{type:"emphasis",children:[]}}function at(){return{type:"heading",depth:void 0,children:[]}}function ut(){return{type:"break"}}function ot(){return{type:"html",value:""}}function tn(){return{type:"image",title:null,url:"",alt:null}}function lt(){return{type:"link",title:null,url:"",children:[]}}function st(b){return{type:"list",ordered:b.type==="listOrdered",start:null,spread:b._spread,children:[]}}function nn(b){return{type:"listItem",spread:b._spread,checked:null,children:[]}}function rn(){return{type:"paragraph",children:[]}}function an(){return{type:"strong",children:[]}}function un(){return{type:"text",value:""}}function on(){return{type:"thematicBreak"}}}function xe(e){return{line:e.line,column:e.column,offset:e.offset}}function Yt(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?Yt(e,r):Bi(e,r)}}function Bi(e,n){let t;for(t in n)if($t.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function At(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+_e({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+_e({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+_e({start:n.start,end:n.end})+") is still open")}function Ii(e){const n=e.replace(/\n{2,}/g,`
`);return cn(n)}function Mi(e){const n=Ii(e),{children:t}=Gt(n),r=[[]];let u=0;function o(l,s="normal"){l.type==="text"?l.value.split(`
`).forEach((h,c)=>{c!==0&&(u++,r.push([])),h.split(" ").forEach(x=>{x&&r[u].push({content:x,type:s})})}):(l.type==="strong"||l.type==="emphasis")&&l.children.forEach(g=>{o(g,l.type)})}return t.forEach(l=>{l.type==="paragraph"&&l.children.forEach(s=>{o(s)})}),r}function Li(e){const{children:n}=Gt(e);function t(r){return r.type==="text"?r.value.replace(/\n/g,"<br/>"):r.type==="strong"?`<strong>${r.children.map(t).join("")}</strong>`:r.type==="emphasis"?`<em>${r.children.map(t).join("")}</em>`:r.type==="paragraph"?`<p>${r.children.map(t).join("")}</p>`:`Unsupported markdown: ${r.type}`}return n.map(t).join("")}function Di(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(n=>n.segment):[...e]}function Oi(e,n){const t=Di(n.content);return Jt(e,[],t,n.type)}function Jt(e,n,t,r){if(t.length===0)return[{content:n.join(""),type:r},{content:"",type:r}];const[u,...o]=t,l=[...n,u];return e([{content:l.join(""),type:r}])?Jt(e,l,o,r):(n.length===0&&u&&(n.push(u),t.shift()),[{content:n.join(""),type:r},{content:t.join(""),type:r}])}function qi(e,n){if(e.some(({content:t})=>t.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return tt(e,n)}function tt(e,n,t=[],r=[]){if(e.length===0)return r.length>0&&t.push(r),t.length>0?t:[];let u="";e[0].content===" "&&(u=" ",e.shift());const o=e.shift()??{content:" ",type:"normal"},l=[...r];if(u!==""&&l.push({content:u,type:"normal"}),l.push(o),n(l))return tt(e,n,t,l);if(r.length>0)t.push(r),e.unshift(o);else if(o.content){const[s,g]=Oi(n,o);t.push([s]),g.content&&e.unshift(g)}return tt(e,n,t)}function Pi(e,n){n&&e.attr("style",n)}function Ri(e,n,t,r,u=!1){const o=e.append("foreignObject"),l=o.append("xhtml:div"),s=n.label,g=n.isNode?"nodeLabel":"edgeLabel";l.html(`
    <span class="${g} ${r}" `+(n.labelStyle?'style="'+n.labelStyle+'"':"")+">"+s+"</span>"),Pi(l,n.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("max-width",t+"px"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),u&&l.attr("class","labelBkg");let h=l.node().getBoundingClientRect();return h.width===t&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",t+"px"),h=l.node().getBoundingClientRect()),o.style("width",h.width),o.style("height",h.height),o.node()}function Zt(e,n,t){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",n*t-.1+"em").attr("dy",t+"em")}function vi(e,n,t){const r=e.append("text"),u=Zt(r,1,n);Xt(u,t);const o=u.node().getComputedTextLength();return r.remove(),o}function _i(e,n,t,r=!1){const o=n.append("g"),l=o.insert("rect").attr("class","background"),s=o.append("text").attr("y","-10.1");let g=0;for(const h of t){const c=m=>vi(o,1.1,m)<=e,x=c(h)?[h]:qi(h,c);for(const m of x){const f=Zt(s,g,1.1);Xt(f,m),g++}}if(r){const h=s.node().getBBox(),c=2;return l.attr("x",-c).attr("y",-c).attr("width",h.width+2*c).attr("height",h.height+2*c),o.node()}else return s.node()}function Xt(e,n){e.text(""),n.forEach((t,r)=>{const u=e.append("tspan").attr("font-style",t.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",t.type==="strong"?"bold":"normal");r===0?u.text(t.content):u.text(" "+t.content)})}const ji=(e,n="",{style:t="",isTitle:r=!1,classes:u="",useHtmlLabels:o=!0,isNode:l=!0,width:s=200,addSvgBackground:g=!1}={})=>{if(ln.info("createText",n,t,r,u,o,l,g),o){const h=Li(n),c={isNode:l,label:sn(h).replace(/fa[blrs]?:fa-[\w-]+/g,m=>`<i class='${m.replace(":"," ")}'></i>`),labelStyle:t.replace("fill:","color:")};return Ri(e,c,s,u,g)}else{const h=Mi(n);return _i(s,e,h,g)}};export{ji as c};
