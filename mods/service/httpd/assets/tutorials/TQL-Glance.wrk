{"data":[{"id":"1693184413645510","contents":"# TQL\n\n> For smooth practice, the following query should be run to prepare tables and data.\n>","height":200,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693184443301929","contents":"CREATE TABLE LOG (TIME DATETIME, VALUE DOUBLE);","height":200,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"169318446099614","contents":"It is required to properly read (translate) data that is sent from sensors.\nAnd also read and send data from database to other systems in demanded format.\n\nThe purpose of *TQL* is transforming data format.\nThis chapter shows how to do this without developing additional applications.\n\n\nSelect \"TQL\" to open a new tql editor.\n\n![web-tql](/assets/img/web-tql-pick.png)","height":200,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693184472975784","contents":"## Generate data\n\nCopy and paste the sample TQL code into the TQL editor.\n\nThen click ▶︎ icon on the top left of the editor, it will display a line chart as the below image. \n\nwhich is a wave that has 1.5 Hz frequency and 1.0 amplitude.","height":200,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693184491742620","contents":"FAKE( oscillator(freq(1.5, 1.0), range('now', '3s', '10ms')) )\nCHART_LINE()","height":200,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693184503337947","contents":"Change `CHART_LINE()` to `CSV()` and execute again, it will show the result in CSV format.\n","height":200,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"169318472760754","contents":"FAKE( oscillator(freq(1.5, 1.0), range('now', '3s', '10ms')) )\nCSV()","height":200,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"16931845929707","contents":"## TQL as an API\n\nSave this code as `hello.tql` (click save icon on the top right of the editor) and open it with web browser at [http://127.0.0.1:5654/db/tql/hello.tql](http://127.0.0.1:5654/db/tql/hello.tql), or use *curl* command on the terminal.\n\n```sh\n    curl -o - http://127.0.0.1:5654/db/tql/hello.tql\n    ```\n\n    ```sh\n    $ curl -o - -v http://127.0.0.1:5654/db/tql/hello.tql\n    ...omit...\n    >\n    < HTTP/1.1 200 OK\n    < Content-Type: text/csv\n    < Transfer-Encoding: chunked\n    <\n    1686787739025518000,-0.238191\n    1686787739035518000,-0.328532\n    1686787739045518000,-0.415960\n    1686787739055518000,-0.499692\n    1686787739065518000,-0.578992\n    ...omit...\n```","height":200,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693184621587914","contents":"## Insert Table\n\nChange `CSV()` to `APPEND(table(\"log\"))` and execute again.\n\n","height":200,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693184770888552","contents":"FAKE( oscillator(freq(1.5, 1.0), range('now', '3s', '10ms')) )\nAPPEND(table(\"log\"))","height":200,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693184642032397","contents":"## Select Table\n","height":200,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"169318478582729","contents":"SQL('select * from log limit 10')\nCSV()","height":200,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true}]}