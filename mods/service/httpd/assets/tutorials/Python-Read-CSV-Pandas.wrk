{"data":[{"id":"1693284761622799","contents":"# Pandas DataFrame directly from HTTP API.\n\n> For smooth practice, \n> The command below on the [How to write wave in shell](https://neo.machbase.com/docs/tutorials/shell/shell-write-waves) must be in the Running state.\n> ```sh\n> sh gen_wave.sh | machbase-neo shell import --timeformat=s EXAMPLE\n> ```\n> \n\nThis example shows how to load data into pandas dataframe via machbase-neo HTTP API.\n\n<!--![img](../assets/tutorials/img/python_http_csv.jpg)-->\n\n## Load CSV\n\nImport pandas and urllib.\n\n```py\nfrom urllib import parse\nimport pandas as pd\n```\n\nMake query url for `\"format\": \"csv\"` option, then call `read_csv`.\nUse `timeformat` to specify the precision of time data. `s`, `ms`, `us` and `ns`(default) are available.\n\n```py\nquery_param = parse.urlencode({\n    \"q\":\"select * from example order by time limit 500\",\n    \"format\": \"csv\",\n    \"timeformat\": \"s\",\n})\ndf = pd.read_csv(f\"http://127.0.0.1:5654/db/query?{query_param}\")\ndf\n```\n\n## Load Compressed CSV\n\nRead gzip'ed CSV from HTTP API.\n\n```py\nfrom urllib import parse\nimport pandas as pd\nimport requests\nimport io\n```\n\n```py\nquery_param = parse.urlencode({\n    \"q\":\"select * from example order by time desc limit 1000\",\n    \"format\": \"csv\",\n    \"timeformat\": \"s\",\n    \"compress\": \"gzip\",\n})\nresponse = requests.get(f\"http://127.0.0.1:5654/db/query?{query_param}\", timeout=30, stream=True)\ndf = pd.read_csv(io.BytesIO(response.content))\ndf\n```","height":439,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true}]}