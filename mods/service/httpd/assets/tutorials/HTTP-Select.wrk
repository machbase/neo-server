{"data":[{"id":"1693287213633809","contents":"# HTTP API\n\n## Reference\n\n[Request endpoint and params](https://neo.machbase.com/docs/api-http/query#get)\n\n[List of Time Zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)\n\n## Test Table and Data\n\nFor this select tutorials, data is pre-entered briefly as shown below.\n[download](https://neo.machbase.com/assets/example/data-epoch-1.json)\n```sh\ncurl -o - http://127.0.0.1:5654/db/query \\\n    --data-urlencode \\\n    \"q=create tag table EXAMPLE (name varchar(40) primary key, time datetime basetime, value double)\"\n\ncurl -X POST http://127.0.0.1:5654/db/write/EXAMPLE?timeformat=ns \\\n    -H \"Content-Type: application/json\"                           \\\n    --data-binary \"@data-nano-1.json\"\n```\n\n## Select with basic formats\n\n### Select in JSON format (default)\n\nSet query param `format=json` or omit it for the default value.\n\n`Request`\n```sh\ncurl -o - http://127.0.0.1:5654/db/query \\\n      --data-urlencode \"q=select * from EXAMPLE\"\n```\n`Response`\n\n[See Response JSON format](https://neo.machbase.com/docs/api-http/query#get)\n\n```json\n{\n  \"data\": {\n    \"columns\": [ \"NAME\", \"TIME\", \"VALUE\" ],\n    \"types\": [ \"string\", \"datetime\", \"double\" ],\n    \"rows\": [\n      [ \"wave.sin\", 1676432361000000000, 0.111111 ],\n      [ \"wave.sin\", 1676432362111111111, 0.222222 ],\n      [ \"wave.sin\", 1676432363222222222, 0.333333 ],\n      [ \"wave.sin\", 1676432364333333333, 0.444444 ],\n      [ \"wave.sin\", 1676432365444444444, 0.555555 ]\n    ]\n  },\n  \"success\": true,\n  \"reason\": \"success\",\n  \"elapse\": \"1.085625ms\"\n}\n```\n\n### Select in CSV format\n\nSet the `format=csv` query param for CSV format.\n\n`Request`\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=csv\"\n```\n`Response`\n```\nNAME,TIME,VALUE\nwave.sin,1676432361000000000,0.111111\nwave.sin,1676432362111111111,0.222222\nwave.sin,1676432363222222222,0.333333\nwave.sin,1676432364333333333,0.444444\nwave.sin,1676432365444444444,0.555555\n```\n\n\n### Select in BOX format\n\nSet the `format=box` query param for BOX format.\n\n`Request`\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"\n```\n`Response`\n```\n+----------+---------------------+----------+\n| NAME     | TIME                | VALUE    |\n+----------+---------------------+----------+\n| wave.sin | 1676432361000000000 | 0        |\n| wave.sin | 1676432362111111111 | 0.406736 |\n| wave.sin | 1676432363222222222 | 0.743144 |\n| wave.sin | 1676432364333333333 | 0.951056 |\n| wave.sin | 1676432365444444444 | 0.994522 |\n+----------+---------------------+----------+\n```\n\n### Select in BOX format with Row Number\n\nSet the `format=box` query param for BOX format.\n\n`Request`\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"rownum=true\"\n```\n`Response`\n```\n+--------+----------+---------------------+----------+\n| ROWNUM | NAME     | TIME                | VALUE    |\n+--------+----------+---------------------+----------+\n|      1 | wave.sin | 1676432361000000000 | 0.111111 |\n|      2 | wave.sin | 1676432362111111111 | 0.222222 |\n|      3 | wave.sin | 1676432363222222222 | 0.333333 |\n|      4 | wave.sin | 1676432364333333333 | 0.444444 |\n|      5 | wave.sin | 1676432365444444444 | 0.555555 |\n+--------+----------+---------------------+----------+\n```\n\n\n### Select in BOX format without heading\n\nSet the `format=box` and `heading=false` query param for BOX format without header.\n\n`Request`\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"heading=false\"\n```\n`Response`\n```\n+----------+---------------------+----------+\n| wave.sin | 1676432361000000000 | 0        |\n| wave.sin | 1676432362111111111 | 0.406736 |\n| wave.sin | 1676432363222222222 | 0.743144 |\n| wave.sin | 1676432364333333333 | 0.951056 |\n| wave.sin | 1676432365444444444 | 0.994522 |\n+----------+---------------------+----------+\n```\n\n\n\n### Select in BOX format AS INTEGER value\n\nSet the `format=box` and `precision=0` query param for BOX format with integer precision.\n\n`Request`\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"precision=0\"\n```\n`Response`\n```\n+----------+---------------------+-------+\n| NAME     | TIME                | VALUE |\n+----------+---------------------+-------+\n| wave.sin | 1676432361000000000 | 0     |\n| wave.sin | 1676432362111111111 | 0     |\n| wave.sin | 1676432363222222322 | 0     |\n| wave.sin | 1676432364333333233 | 0     |\n| wave.sin | 1676432365444444444 | 1     |\n+----------+---------------------+-------+\n```\n\n## Select with various Time Format and Time Zones\n\n### Select in Default Time\n\nSet query param `timeformat=Default`\n\n`Request`\n```sh\n curl -o - http://127.0.0.1:5654/db/query      \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"timeformat=Default\"\n```\n`Response`\n\n```\n+----------+-------------------------+----------+\n| NAME     | TIME                    | VALUE    |\n+----------+-------------------------+----------+\n| wave.sin | 2023-02-15 03:39:21     | 0.111111 |\n| wave.sin | 2023-02-15 03:39:22.111 | 0.222222 |\n| wave.sin | 2023-02-15 03:39:23.222 | 0.333333 |\n| wave.sin | 2023-02-15 03:39:24.333 | 0.444444 |\n| wave.sin | 2023-02-15 03:39:25.444 | 0.555555 |\n+----------+-------------------------+----------+\n```\n\n### Select in Default Time in Asia/Seoul Time Zone\n\nSet query param `timeformat=Default` and `tz=Asia/Seoul`\n\n`Request`\n```sh\n curl -o - http://127.0.0.1:5654/db/query \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"timeformat=Default\"      \\\n    --data-urlencode \"tz=Asia/Seoul\"\n```\n`Response`\n\n```\n +----------+-------------------------+----------+\n| NAME     | TIME                    | VALUE    |\n+----------+-------------------------+----------+\n| wave.sin | 2023-02-15 12:39:21     | 0.111111 |\n| wave.sin | 2023-02-15 12:39:22.111 | 0.222222 |\n| wave.sin | 2023-02-15 12:39:23.222 | 0.333333 |\n| wave.sin | 2023-02-15 12:39:24.333 | 0.444444 |\n| wave.sin | 2023-02-15 12:39:25.444 | 0.555555 |\n+----------+-------------------------+----------+\n```\n\n\n### Select in RFC3339 format\n\nSet query param `timeformat=Default`\n\n`Request`\n```sh\n curl -o - http://127.0.0.1:5654/db/query      \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"timeformat=RFC3339\"\n```\n`Response`\n\n```\n+----------+----------------------+----------+\n| NAME     | TIME                 | VALUE    |\n+----------+----------------------+----------+\n| wave.sin | 2023-02-15T03:39:21Z | 0.111111 |\n| wave.sin | 2023-02-15T03:39:22Z | 0.222222 |\n| wave.sin | 2023-02-15T03:39:23Z | 0.333333 |\n| wave.sin | 2023-02-15T03:39:24Z | 0.444444 |\n| wave.sin | 2023-02-15T03:39:25Z | 0.555555 |\n+----------+----------------------+----------+\n```\n\n\n### Select in RFC3339 format with Nano precision\n\nSet query param `timeformat=Default`\n\n`Request`\n```sh\n curl -o - http://127.0.0.1:5654/db/query      \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"timeformat=RFC3339Nano\"\n```\n`Response`\n\n```\n +----------+--------------------------------+----------+\n| NAME     | TIME                           | VALUE    |\n+----------+--------------------------------+----------+\n| wave.sin | 2023-02-15T03:39:21Z           | 0.111111 |\n| wave.sin | 2023-02-15T03:39:22.111111111Z | 0.222222 |\n| wave.sin | 2023-02-15T03:39:23.222222322Z | 0.333333 |\n| wave.sin | 2023-02-15T03:39:24.333333233Z | 0.444444 |\n| wave.sin | 2023-02-15T03:39:25.444444444Z | 0.555555 |\n+----------+--------------------------------+----------+\n```\n\n\n### Select in RFC3339 format with Nano precision in America/New_York Time Zone\n\nSet query param `timeformat=Default`\n\n`Request`\n```sh\n curl -o - http://127.0.0.1:5654/db/query      \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"timeformat=RFC3339Nano\"  \\\n    --data-urlencode \"tz=America/New_York\"\n```\n`Response`\n\n```\n+----------+-------------------------------------+----------+\n| NAME     | TIME                                | VALUE    |\n+----------+-------------------------------------+----------+\n| wave.sin | 2023-02-14T22:39:21-05:00           | 0.111111 |\n| wave.sin | 2023-02-14T22:39:22.111111111-05:00 | 0.222222 |\n| wave.sin | 2023-02-14T22:39:23.222222222-05:00 | 0.333333 |\n| wave.sin | 2023-02-14T22:39:24.333333333-05:00 | 0.444444 |\n| wave.sin | 2023-02-14T22:39:25.444444444-05:00 | 0.555555 |\n+----------+-------------------------------------+----------+\n```\n\n\n### Select in Custom Time Format\n\nIn Machbase Neo Rest API, specific numbers are used to replace the format of certain time.\nSet query param `timeformat=custom-format-as-below`\n```bash\n custom format\n      year           2006\n      month          01\n      day            02\n      hour           03 or 15\n      minute         04\n      second         05 or with sub-seconds '05.999999999'\n```\n\n\n#### Typical Custom Time Format\n`Request`\n```sh\n curl -o - http://127.0.0.1:5654/db/query      \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"timeformat=2006-01-02 03:04:05.999999999\"\n```\n`Response`\n\n```\n+----------+-------------------------------+----------+\n| NAME     | TIME                          | VALUE    |\n+----------+-------------------------------+----------+\n| wave.sin | 2023-02-15 03:39:21           | 0.111111 |\n| wave.sin | 2023-02-15 03:39:22.111111111 | 0.222222 |\n| wave.sin | 2023-02-15 03:39:23.222222222 | 0.333333 |\n| wave.sin | 2023-02-15 03:39:24.333333333 | 0.444444 |\n| wave.sin | 2023-02-15 03:39:25.444444444 | 0.555555 |\n+----------+-------------------------------+----------+\n```\n\n#### Typical Re-ordered Custom Time Format\n`Request`\n```sh\n curl -o - http://127.0.0.1:5654/db/query      \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"timeformat=03:04:05.999999999-ReOrder-2006-01-02 \"\n```\n`Response`\n\n```\n+----------+----------------------------------------+----------+\n| NAME     | TIME                                   | VALUE    |\n+----------+----------------------------------------+----------+\n| wave.sin | 03:39:21-ReOrder-2023-02-15            | 0.111111 |\n| wave.sin | 03:39:22.111111111-ReOrder-2023-02-15  | 0.222222 |\n| wave.sin | 03:39:23.222222222-ReOrder-2023-02-15  | 0.333333 |\n| wave.sin | 03:39:24.333333333-ReOrder-2023-02-15  | 0.444444 |\n| wave.sin | 03:39:25.444444444-ReOrder-2023-02-15  | 0.555555 |\n+----------+----------------------------------------+----------+\n```\n\n#### Typical Re-ordered Custom Time Format in America/New_York Time Zone\n**`Request`**\n```sh\n curl -o - http://127.0.0.1:5654/db/query                                 \\\n    --data-urlencode \"q=select * from EXAMPLE\"                            \\\n    --data-urlencode \"format=box\"                                         \\\n    --data-urlencode \"timeformat=03:04:05.999999999-ReOrder-2006-01-02 \"  \\\n    --data-urlencode \"tz=America/New_York\"\n```\n`Response`\n\n```\n+----------+----------------------------------------+----------+\n| NAME     | TIME                                   | VALUE    |\n+----------+----------------------------------------+----------+\n| wave.sin | 10:39:21-ReOrder-2023-02-14            | 0.111111 |\n| wave.sin | 10:39:22.111111111-ReOrder-2023-02-14  | 0.222222 |\n| wave.sin | 10:39:23.222222222-ReOrder-2023-02-14  | 0.333333 |\n| wave.sin | 10:39:24.333333333-ReOrder-2023-02-14  | 0.444444 |\n| wave.sin | 10:39:25.444444444-ReOrder-2023-02-14  | 0.555555 |\n+----------+----------------------------------------+----------+\n```\n","height":200,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true}]}