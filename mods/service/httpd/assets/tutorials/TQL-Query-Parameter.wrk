{"data":[{"id":"1693189544383476","contents":"# Query Parameters in TQL\n\n> For smooth practice, the following query should be run to prepare tables and data.\n","height":100,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693189556038974","contents":"CREATE TAG TABLE IF NOT EXISTS EXAMPLE (NAME VARCHAR(20) PRIMARY KEY, TIME DATETIME BASETIME, VALUE DOUBLE SUMMARIZED);\n","height":58,"minimal":false,"type":"sql","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693277761109959","contents":"```sql\nINSERT INTO EXAMPLE VALUES('temperature', TO_DATE('2021-08-12'), 10);\nINSERT INTO EXAMPLE VALUES('temperature', TO_DATE('2021-08-12'), 20);\nINSERT INTO EXAMPLE VALUES('temperature', TO_DATE('2021-08-12'), 30);\nINSERT INTO EXAMPLE VALUES('temperature', TO_DATE('2021-08-12'), 40);\nINSERT INTO EXAMPLE VALUES('temperature', TO_DATE('2021-08-12'), 50);\n```","height":152,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693189555826145","contents":"When other applications call a .tql script via HTTP it can supply variables as query parameters.\n\nThe variables from query params start with '$' sign in a script as below example.\n","height":101,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693189555660827","contents":"## Query Parameter\n\nIf the script saved as `hello2.tql`, applications can call the script by HTTP GET method with [http://127.0.0.1:5654/db/tql/hello2.tql?name=temperature&count=3](http://127.0.0.1:5654/db/tql/hello2.tql?name=temperature&count=3)","height":114,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693277816343566","contents":"SQL('select value from example where name = ? limit ?', param('name'), param('count'))\nJSON()","height":54,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693277831952106","contents":"or","height":35,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693189553547167","contents":"QUERY(\n    'value',\n    from('example', param('name')),\n    limit( param('count') )\n)\nJSON()","height":138,"minimal":false,"type":"tql","tqlType":"csv","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693189770787173","contents":"## ?? Operator\n\n`??` operator takes left and right operand. if left operand is defined it returns value of it, if left operand is not defined it returns right operand instead.\nThe example below shows the common use case of the `??` operator. If caller did not provide query param variables, the right side operand will be taken as a default value.\n[http://127.0.0.1:5654/db/tql/hello2.tql?name=temperature](http://127.0.0.1:5654/db/tql/hello2.tql?name=temperature)","height":154,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693277855143817","contents":"SQL('select value from example where name = ? limit ?', param('name') ?? 'temperature', param('count') ?? 3)\nJSON()","height":67,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693277871427164","contents":"or","height":49,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true},{"id":"1693189740392827","contents":"QUERY(\n    'value',\n    from('example', param('name') ?? 'temperature'),\n    limit( param('count') ?? 10 )\n)\nJSON()","height":150,"minimal":false,"type":"tql","tqlType":"text","lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true}]}