{"data":[{"id":"169328693545456","contents":"# HTTP API\n\n## Reference\n\n[Request endpoint and params](https://neo.machbase.com/docs/api-http/)\n\n## Test Table\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query \\\n    --data-urlencode \\\n    \"q=create tag table EXAMPLE (name varchar(40) primary key, time datetime basetime, value double)\"\n```\n## About Data and Time\nThe time stored in the sample files saved in these examples is represented in Unix epoch, measured in seconds. Therefore, when loading the data, it should be performed with the `timeformat=s` option specified. If the data has been stored in a different resolution, this option needs to be modified to ensure proper input. Note that in Machbase Neo, the default time resolution is assumed to be in `nanoseconds (ns)` and is executed accordingly.\n\n## Insert with Epoch Time Format\n\n### Insert JSON file\n\n`data-epoch-1.json`\n[download](https://neo.machbase.com/assets/example/data-epoch-1.json)\n\n```json\n{\n  \"data\":  {\n    \"columns\":[\"NAME\",\"TIME\",\"VALUE\"],\n    \"rows\": [\n            [\"wave.sin\",1676432361,0],\n            [\"wave.sin\",1676432362,0.406736],\n            [\"wave.sin\",1676432363,0.743144],\n            [\"wave.sin\",1676432364,0.951056],\n            [\"wave.sin\",1676432365,0.994522]\n    ]\n  }\n}\n```\n\n`post data`\n```sh\ncurl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?timeformat=s\" \\\n    -H \"Content-Type: application/json\" \\\n    --data-binary \"@data-epoch-1.json\"\n```\n\n`select rows`\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query \\\n    --data-urlencode \"q=select * from EXAMPLE\"\n```\n\n\n### Insert CSV file with header\n\nIf csv data has header line like below, set the `heading=true` query param.\n\n`data-epoch-1-header.csv`\n[download](https://neo.machbase.com/assets/example/data-epoch-1-header.csv)\n\n```\nNAME,TIME,VALUE\nwave.sin,1676432361,0.000000\nwave.cos,1676432361,1.000000\nwave.sin,1676432362,0.406736\nwave.cos,1676432362,0.913546\nwave.sin,1676432363,0.743144\n```\n\n`post data`\n```sh\ncurl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?timeformat=s&heading=true\" \\\n    -H \"Content-Type: text/csv\" \\\n    --data-binary \"@data-epoch-1-header.csv\"\n```\n\n### Insert CSV file without header\n\nIf csv data has header line like below, set the `heading=false` query param.\n\n`data-epoch-1-no-header.csv`\n[download](https://neo.machbase.com/assets/example/data-epoch-1-no-header.csv)\n\n```\nwave.sin,1676432361,0.000000\nwave.cos,1676432361,1.000000\nwave.sin,1676432362,0.406736\nwave.cos,1676432362,0.913546\nwave.sin,1676432363,0.743144\n```\n\n`post data`\n\n```sh\ncurl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?timeformat=s&heading=false\" \\\n    -H \"Content-Type: text/csv\" \\\n    --data-binary \"@data-epoch-1-no-header.csv\"\n```\n\n### Append a Large CSV file\n\nWhen loading a large CSV file, using the \"append\" method can allow data to be input several times faster compared to the \"insert\" method.\n\n`data-epoch-bulk.csv`\n[download](https://neo.machbase.com/assets/example/data-epoch-bulk.csv)\n\n```\nwave.sin,1676432361,0.000000\nwave.cos,1676432361,1.000000\nwave.sin,1676432362,0.406736\nwave.cos,1676432362,0.913546\nwave.sin,1676432363,0.743144\n......\n```\n\n`post data`\n\n```sh\ncurl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?timeformat=s&heading=false&method=append\" \\\n    -H \"Content-Type: text/csv\" \\\n    --data-binary \"@data-epoch-bulk.csv\"\n```\n\n\n\n## Insert in Various Time Format\n\n### Insert CSV file in Default Time \n\n`data-timeformat-1.csv`\n[download](https://neo.machbase.com/assets/example/data-timeformat-1.csv)\n\n```\nwave.sin,2023-02-15 03:39:21,0.111111\nwave.sin,2023-02-15 03:39:22.111,0.222222\nwave.sin,2023-02-15 03:39:23.222,0.333333\nwave.sin,2023-02-15 03:39:24.333,0.444444\nwave.sin,2023-02-15 03:39:25.444,0.555555\n```\n\n`post data`\n```sh\ncurl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?heading=false&timeformat=Default\" \\\n    -H \"Content-Type: text/csv\" \\\n    --data-binary \"@data-timeformat-1.csv\"\n```\n\n`select rows`\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"timeformat=Default\"      \\\n    --data-urlencode \"format=csv\"\n```\n\n```\nNAME,TIME,VALUE\nwave.sin,2023-02-15 03:39:21,0.111111\nwave.sin,2023-02-15 03:39:22.111,0.222222\nwave.sin,2023-02-15 03:39:23.222,0.333333\nwave.sin,2023-02-15 03:39:24.333,0.444444\nwave.sin,2023-02-15 03:39:25.444,0.555555\n```\n\n\n### Insert CSV file in Default Time in Asia/Seoul Time Zone\n\n`data-timeformat-1-tz-seoul.csv`\n[download](https://neo.machbase.com/assets/example/data-timeformat-1-tz-seoul.csv)\n\n```\nwave.sin,2023-02-15 12:39:21,0.111111\nwave.sin,2023-02-15 12:39:22.111,0.222222\nwave.sin,2023-02-15 12:39:23.222,0.333333\nwave.sin,2023-02-15 12:39:24.333,0.444444\nwave.sin,2023-02-15 12:39:25.444,0.555555\n```\n\n`post data`\n```sh\ncurl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?heading=false&timeformat=Default&tz=Asia/Seoul\" \\\n        -H \"Content-Type: text/csv\" \\\n        --data-binary \"@data-timeformat-1-tz-seoul.csv\"\n```\n\n`select rows in UTC Time Zone`\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"timeformat=Default\"      \\\n    --data-urlencode \"format=csv\"\n```\n\n```\nNAME,TIME,VALUE\nwave.sin,2023-02-15 03:39:21,0.111111\nwave.sin,2023-02-15 03:39:22.111,0.222222\nwave.sin,2023-02-15 03:39:23.222,0.333333\nwave.sin,2023-02-15 03:39:24.333,0.444444\nwave.sin,2023-02-15 03:39:25.444,0.555555\n```\n\n### Insert CSV file in RFC3339 Time Format\n\n`data-timeformat-rfc3339.csv`\n[download](https://neo.machbase.com/assets/example/data-timeformat-rfc3339.csv)\n\n```\nwave.sin,2023-02-15T03:39:21Z,0.111111\nwave.sin,2023-02-15T03:39:22Z,0.222222\nwave.sin,2023-02-15T03:39:23Z,0.333333\nwave.sin,2023-02-15T03:39:24Z,0.444444\nwave.sin,2023-02-15T03:39:25Z,0.555555\n```\n\n`post data`\n```sh\n curl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?heading=false&timeformat=RFC3339\" \\\n        -H \"Content-Type: text/csv\" \\\n        --data-binary \"@data-timeformat-rfc3339.csv\"\n```\n\n`select rows in UTC Time Zone`\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=csv\"              \\\n    --data-urlencode \"timeformat=RFC3339\"\n```\n\n```\nNAME,TIME,VALUE\nwave.sin,2023-02-15T03:39:21Z,0.111111\nwave.sin,2023-02-15T03:39:22Z,0.222222\nwave.sin,2023-02-15T03:39:23Z,0.333333\nwave.sin,2023-02-15T03:39:24Z,0.444444\nwave.sin,2023-02-15T03:39:25Z,0.555555\n```\n\n### Insert CSV file in RFC3339Nano Time Format in America/New_York Time Zone\n\n`data-timeformat-rfc3339nano-tz-newyork.csv`\n[download](https://neo.machbase.com/assets/example/data-timeformat-rfc3339nano-tz-newyork.csv)\n\n```\nwave.sin,2023-02-14T22:39:21.000000000-05:00,0.111111\nwave.sin,2023-02-14T22:39:22.111111111-05:00,0.222222\nwave.sin,2023-02-14T22:39:23.222222222-05:00,0.333333\nwave.sin,2023-02-14T22:39:24.333333333-05:00,0.444444\nwave.sin,2023-02-14T22:39:25.444444444-05:00,0.555555\n```\n\n`post data`\n```sh\n curl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?heading=false&timeformat=RFC3339Nano&tz=America/New_York\" \\\n        -H \"Content-Type: text/csv\"  \\\n        --data-binary \"@data-timeformat-rfc3339nano-tz-newyork.csv\"\n```\n\n`select rows in America/New_York Time Zone`\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query      \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=box\"              \\\n    --data-urlencode \"timeformat=RFC3339Nano\"  \\\n    --data-urlencode \"tz=America/New_York\"\n```\n\n```\n+----------+-------------------------------------+----------+\n| NAME     | TIME                                | VALUE    |\n+----------+-------------------------------------+----------+\n| wave.sin | 2023-02-14T22:39:21-05:00           | 0.111111 |\n| wave.sin | 2023-02-14T22:39:22.111111111-05:00 | 0.222222 |\n| wave.sin | 2023-02-14T22:39:23.222222222-05:00 | 0.333333 |\n| wave.sin | 2023-02-14T22:39:24.333333333-05:00 | 0.444444 |\n| wave.sin | 2023-02-14T22:39:25.444444444-05:00 | 0.555555 |\n+----------+-------------------------------------+----------+\n```\n\n### Insert CSV file in Custom Time Format\n\n`data-timeformat-custom-1.csv`\n[download](https://neo.machbase.com/assets/example/data-timeformat-custom-1.csv)\n\n```\nwave.sin,2023-02-15 03:39:21,0.111111\nwave.sin,2023-02-15 03:39:22.111111111,0.222222\nwave.sin,2023-02-15 03:39:23.222222222,0.333333\nwave.sin,2023-02-15 03:39:24.333333333,0.444444\nwave.sin,2023-02-15 03:39:25.444444444,0.555555\n```\n\n`post data`\n```sh\ncurl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?heading=false&timeformat=Default\" \\\n        -H \"Content-Type: text/csv\" \\\n        --data-binary \"@data-timeformat-custom-1.csv\"\n```\n\n`select rows in UTC Time Zone`\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=csv\"              \\\n    --data-urlencode \"timeformat=Default\"\n```\n\n```\n> > > +----------+-------------------------+----------+\n| NAME     | TIME                    | VALUE    |\n+----------+-------------------------+----------+\n| wave.sin | 2023-02-15 03:39:21     | 0.111111 |\n| wave.sin | 2023-02-15 03:39:22.111 | 0.222222 |\n| wave.sin | 2023-02-15 03:39:23.222 | 0.333333 |\n| wave.sin | 2023-02-15 03:39:24.333 | 0.444444 |\n| wave.sin | 2023-02-15 03:39:25.444 | 0.555555 |\n+----------+-------------------------+----------+\n```\n\n\n### Insert CSV file in Custome Time Format in America/New_York Time Zone\n\n`data-timeformat-custom-2.csv`\n[download](https://neo.machbase.com/assets/example/data-timeformat-custom-2.csv)\n> `hour:min:sec-SPLIT-year-month-day` format in newyork timezone\n```\nwave.sin,10:39:21-SPLIT-2023-02-14 ,0.111111\nwave.sin,10:39:22.111111111-SPLIT-2023-02-14 ,0.222222\nwave.sin,10:39:23.222222222-SPLIT-2023-02-14 ,0.333333\nwave.sin,10:39:24.333333333-SPLIT-2023-02-14 ,0.444444\nwave.sin,10:39:25.444444444-SPLIT-2023-02-14 ,0.555555\n```\n\n`post data`\n```sh\ncurl -X POST \"http://127.0.0.1:5654/db/write/EXAMPLE?heading=false&timeformat=03:04:05.999999999-SPLIT-2006-01-02&tz=America/New_York\" \\\n        -H \"Content-Type: text/csv\" \\\n        --data-binary \"@data-timeformat-custom-2.csv\"\n```\n\n`select rows in UTC Time Zone`\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=csv\"              \\\n    --data-urlencode \"timeformat=2006-01-02 03:04:05.999999999\"\n```\n\n```\nNAME,TIME,VALUE\nwave.sin,2023-02-14 03:39:21,0.111111\nwave.sin,2023-02-14 03:39:22.111111111,0.222222\nwave.sin,2023-02-14 03:39:23.222222222,0.333333\nwave.sin,2023-02-14 03:39:24.333333333,0.444444\nwave.sin,2023-02-14 03:39:25.444444444,0.555555\n```\n\n`select rows in default time format in America/New_York Time Zone`\n\n```sh\ncurl -o - http://127.0.0.1:5654/db/query       \\\n    --data-urlencode \"q=select * from EXAMPLE\" \\\n    --data-urlencode \"format=csv\"              \\\n    --data-urlencode \"timeformat=Default\" \\\n    --data-urlencode \"tz=America/New_York\"\n```\n\n```\nNAME,TIME,VALUE\nwave.sin,2023-02-14 10:39:21,0.111111\nwave.sin,2023-02-14 10:39:22.111,0.222222\nwave.sin,2023-02-14 10:39:23.222,0.333333\nwave.sin,2023-02-14 10:39:24.333,0.444444\nwave.sin,2023-02-14 10:39:25.444,0.555555\n```\n","height":338,"minimal":false,"type":"mrk","tqlType":null,"lang":[["markdown","Markdown"],["SQL","SQL"],["go","TQL"]],"result":"","status":true}]}